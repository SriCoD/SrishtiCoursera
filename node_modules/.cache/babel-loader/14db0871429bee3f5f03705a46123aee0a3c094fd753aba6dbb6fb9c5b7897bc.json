{"ast":null,"code":"import{useEffect,useState}from\"react\";import{AiOutlineMenu,AiOutlineShoppingCart}from\"react-icons/ai\";import{BsChevronDown}from\"react-icons/bs\";import{useSelector}from\"react-redux\";import{Link,matchPath,useLocation}from\"react-router-dom\";import logo from\"../../assets/Logo/Logo-Full-Light.png\";import{NavbarLinks}from\"../../data/navbar-links\";import{apiConnector}from\"../../services/apiconnector\";import{categories}from\"../../services/apis\";import{ACCOUNT_TYPE}from\"../../utils/constants\";import ProfileDropdown from\"../core/Auth/ProfileDropDown\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Navbar(){const{token}=useSelector(state=>state.auth);const{user}=useSelector(state=>state.profile);const{totalItems}=useSelector(state=>state.cart);const location=useLocation();const[subLinks,setSubLinks]=useState([]);const[loading,setLoading]=useState(false);useEffect(()=>{;(async()=>{setLoading(true);try{const res=await apiConnector(\"GET\",categories.CATEGORIES_API);setSubLinks(res.data.data);}catch(error){console.log(\"Could not fetch Categories.\",error);}setLoading(false);})();},[]);// console.log(\"sub links\", subLinks)\nconst matchRoute=route=>{return matchPath({path:route},location.pathname);};return/*#__PURE__*/_jsx(\"div\",{className:\"flex h-14 items-center justify-center border-b-[1px] border-b-richblack-700 \".concat(location.pathname!==\"/\"?\"bg-richblack-800\":\"\",\" transition-all duration-200\"),children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-11/12 max-w-maxContent items-center justify-between\",children:[/*#__PURE__*/_jsx(Link,{to:\"/\",children:/*#__PURE__*/_jsx(\"img\",{src:logo,alt:\"Logo\",width:160,height:32,loading:\"lazy\"})}),/*#__PURE__*/_jsx(\"nav\",{className:\"hidden md:block\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"flex gap-x-6 text-richblack-25\",children:NavbarLinks.map((link,index)=>{var _subLinks$filter;return/*#__PURE__*/_jsx(\"li\",{children:link.title===\"Catalog\"?/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"group relative flex cursor-pointer items-center gap-1 \".concat(matchRoute(\"/catalog/:catalogName\")?\"text-yellow-25\":\"text-richblack-25\"),children:[/*#__PURE__*/_jsx(\"p\",{children:link.title}),/*#__PURE__*/_jsx(BsChevronDown,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"invisible absolute left-[50%] top-[50%] z-[1000] flex w-[200px] translate-x-[-50%] translate-y-[3em] flex-col rounded-lg bg-richblack-5 p-4 text-richblack-900 opacity-0 transition-all duration-150 group-hover:visible group-hover:translate-y-[1.65em] group-hover:opacity-100 lg:w-[300px]\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"absolute left-[50%] top-0 -z-10 h-6 w-6 translate-x-[80%] translate-y-[-40%] rotate-45 select-none rounded bg-richblack-5\"}),loading?/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"Loading...\"}):subLinks&&subLinks.length?/*#__PURE__*/_jsx(_Fragment,{children:subLinks===null||subLinks===void 0?void 0:(_subLinks$filter=subLinks.filter(subLink=>{var _subLink$courses;return(subLink===null||subLink===void 0?void 0:(_subLink$courses=subLink.courses)===null||_subLink$courses===void 0?void 0:_subLink$courses.length)>0;}))===null||_subLinks$filter===void 0?void 0:_subLinks$filter.map((subLink,i)=>/*#__PURE__*/_jsx(Link,{to:\"/catalog/\".concat(subLink.name.split(\" \").join(\"-\").toLowerCase()),className:\"rounded-lg bg-transparent py-4 pl-4 hover:bg-richblack-50\",children:/*#__PURE__*/_jsx(\"p\",{children:subLink.name})},i))}):/*#__PURE__*/_jsx(\"p\",{className:\"text-center\",children:\"No Courses Found\"})]})]})}):/*#__PURE__*/_jsx(Link,{to:link===null||link===void 0?void 0:link.path,children:/*#__PURE__*/_jsx(\"p\",{className:\"\".concat(matchRoute(link===null||link===void 0?void 0:link.path)?\"text-yellow-25\":\"text-richblack-25\"),children:link.title})})},index);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"hidden items-center gap-x-4 md:flex\",children:[user&&(user===null||user===void 0?void 0:user.accountType)!==ACCOUNT_TYPE.INSTRUCTOR&&/*#__PURE__*/_jsxs(Link,{to:\"/dashboard/cart\",className:\"relative\",children:[/*#__PURE__*/_jsx(AiOutlineShoppingCart,{className:\"text-2xl text-richblack-100\"}),totalItems>0&&/*#__PURE__*/_jsx(\"span\",{className:\"absolute -bottom-2 -right-2 grid h-5 w-5 place-items-center overflow-hidden rounded-full bg-richblack-600 text-center text-xs font-bold text-yellow-100\",children:totalItems})]}),token===null&&/*#__PURE__*/_jsx(Link,{to:\"/login\",children:/*#__PURE__*/_jsx(\"button\",{className:\"rounded-[8px] border border-richblack-700 bg-richblack-800 px-[12px] py-[8px] text-richblack-100\",children:\"Log in\"})}),token===null&&/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsx(\"button\",{className:\"rounded-[8px] border border-richblack-700 bg-richblack-800 px-[12px] py-[8px] text-richblack-100\",children:\"Sign up\"})}),token!==null&&/*#__PURE__*/_jsx(ProfileDropdown,{})]}),/*#__PURE__*/_jsx(\"button\",{className:\"mr-4 md:hidden\",children:/*#__PURE__*/_jsx(AiOutlineMenu,{fontSize:24,fill:\"#AFB2BF\"})})]})});}export default Navbar;","map":{"version":3,"names":["useEffect","useState","AiOutlineMenu","AiOutlineShoppingCart","BsChevronDown","useSelector","Link","matchPath","useLocation","logo","NavbarLinks","apiConnector","categories","ACCOUNT_TYPE","ProfileDropdown","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","Navbar","token","state","auth","user","profile","totalItems","cart","location","subLinks","setSubLinks","loading","setLoading","res","CATEGORIES_API","data","error","console","log","matchRoute","route","path","pathname","className","concat","children","to","src","alt","width","height","map","link","index","_subLinks$filter","title","length","filter","subLink","_subLink$courses","courses","i","name","split","join","toLowerCase","accountType","INSTRUCTOR","fontSize","fill"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/common/Navbar.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { AiOutlineMenu, AiOutlineShoppingCart } from \"react-icons/ai\"\r\nimport { BsChevronDown } from \"react-icons/bs\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { Link, matchPath, useLocation } from \"react-router-dom\"\r\n\r\nimport logo from \"../../assets/Logo/Logo-Full-Light.png\"\r\nimport { NavbarLinks } from \"../../data/navbar-links\"\r\nimport { apiConnector } from \"../../services/apiconnector\"\r\nimport { categories } from \"../../services/apis\"\r\nimport { ACCOUNT_TYPE } from \"../../utils/constants\"\r\nimport ProfileDropdown from \"../core/Auth/ProfileDropDown\"\r\n\r\nfunction Navbar() {\r\n  const { token } = useSelector((state) => state.auth)\r\n  const { user } = useSelector((state) => state.profile)\r\n  const { totalItems } = useSelector((state) => state.cart)\r\n  const location = useLocation()\r\n\r\n  const [subLinks, setSubLinks] = useState([])\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      setLoading(true)\r\n      try {\r\n        const res = await apiConnector(\"GET\", categories.CATEGORIES_API)\r\n        setSubLinks(res.data.data)\r\n      } catch (error) {\r\n        console.log(\"Could not fetch Categories.\", error)\r\n      }\r\n      setLoading(false)\r\n    })()\r\n  }, [])\r\n\r\n  // console.log(\"sub links\", subLinks)\r\n\r\n  const matchRoute = (route) => {\r\n    return matchPath({ path: route }, location.pathname)\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`flex h-14 items-center justify-center border-b-[1px] border-b-richblack-700 ${\r\n        location.pathname !== \"/\" ? \"bg-richblack-800\" : \"\"\r\n      } transition-all duration-200`}\r\n    >\r\n      <div className=\"flex w-11/12 max-w-maxContent items-center justify-between\">\r\n        {/* Logo */}\r\n        <Link to=\"/\">\r\n          <img src={logo} alt=\"Logo\" width={160} height={32} loading=\"lazy\" />\r\n        </Link>\r\n        {/* Navigation links */}\r\n        <nav className=\"hidden md:block\">\r\n          <ul className=\"flex gap-x-6 text-richblack-25\">\r\n            {NavbarLinks.map((link, index) => (\r\n              <li key={index}>\r\n                {link.title === \"Catalog\" ? (\r\n                  <>\r\n                    <div\r\n                      className={`group relative flex cursor-pointer items-center gap-1 ${\r\n                        matchRoute(\"/catalog/:catalogName\")\r\n                          ? \"text-yellow-25\"\r\n                          : \"text-richblack-25\"\r\n                      }`}\r\n                    >\r\n                      <p>{link.title}</p>\r\n                      <BsChevronDown />\r\n                      <div className=\"invisible absolute left-[50%] top-[50%] z-[1000] flex w-[200px] translate-x-[-50%] translate-y-[3em] flex-col rounded-lg bg-richblack-5 p-4 text-richblack-900 opacity-0 transition-all duration-150 group-hover:visible group-hover:translate-y-[1.65em] group-hover:opacity-100 lg:w-[300px]\">\r\n                        <div className=\"absolute left-[50%] top-0 -z-10 h-6 w-6 translate-x-[80%] translate-y-[-40%] rotate-45 select-none rounded bg-richblack-5\"></div>\r\n                        {loading ? (\r\n                          <p className=\"text-center\">Loading...</p>\r\n                        ) : (subLinks && subLinks.length) ? (\r\n                          <>\r\n                            {subLinks\r\n                              ?.filter(\r\n                                (subLink) => subLink?.courses?.length > 0\r\n                              )\r\n                              ?.map((subLink, i) => (\r\n                                <Link\r\n                                  to={`/catalog/${subLink.name\r\n                                    .split(\" \")\r\n                                    .join(\"-\")\r\n                                    .toLowerCase()}`}\r\n                                  className=\"rounded-lg bg-transparent py-4 pl-4 hover:bg-richblack-50\"\r\n                                  key={i}\r\n                                >\r\n                                  <p>{subLink.name}</p>\r\n                                </Link>\r\n                              ))}\r\n                          </>\r\n                        ) : (\r\n                          <p className=\"text-center\">No Courses Found</p>\r\n                        )}\r\n                      </div>\r\n                    </div>\r\n                  </>\r\n                ) : (\r\n                  <Link to={link?.path}>\r\n                    <p\r\n                      className={`${\r\n                        matchRoute(link?.path)\r\n                          ? \"text-yellow-25\"\r\n                          : \"text-richblack-25\"\r\n                      }`}\r\n                    >\r\n                      {link.title}\r\n                    </p>\r\n                  </Link>\r\n                )}\r\n              </li>\r\n            ))}\r\n          </ul>\r\n        </nav>\r\n        {/* Login / Signup / Dashboard */}\r\n        <div className=\"hidden items-center gap-x-4 md:flex\">\r\n          {user && user?.accountType !== ACCOUNT_TYPE.INSTRUCTOR && (\r\n            <Link to=\"/dashboard/cart\" className=\"relative\">\r\n              <AiOutlineShoppingCart className=\"text-2xl text-richblack-100\" />\r\n              {totalItems > 0 && (\r\n                <span className=\"absolute -bottom-2 -right-2 grid h-5 w-5 place-items-center overflow-hidden rounded-full bg-richblack-600 text-center text-xs font-bold text-yellow-100\">\r\n                  {totalItems}\r\n                </span>\r\n              )}\r\n            </Link>\r\n          )}\r\n          {token === null && (\r\n            <Link to=\"/login\">\r\n              <button className=\"rounded-[8px] border border-richblack-700 bg-richblack-800 px-[12px] py-[8px] text-richblack-100\">\r\n                Log in\r\n              </button>\r\n            </Link>\r\n          )}\r\n          {token === null && (\r\n            <Link to=\"/signup\">\r\n              <button className=\"rounded-[8px] border border-richblack-700 bg-richblack-800 px-[12px] py-[8px] text-richblack-100\">\r\n                Sign up\r\n              </button>\r\n            </Link>\r\n          )}\r\n          {token !== null && <ProfileDropdown />}\r\n        </div>\r\n        <button className=\"mr-4 md:hidden\">\r\n          <AiOutlineMenu fontSize={24} fill=\"#AFB2BF\" />\r\n        </button>\r\n      </div>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default Navbar"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,aAAa,CAAEC,qBAAqB,KAAQ,gBAAgB,CACrE,OAASC,aAAa,KAAQ,gBAAgB,CAC9C,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,IAAI,CAAEC,SAAS,CAAEC,WAAW,KAAQ,kBAAkB,CAE/D,MAAO,CAAAC,IAAI,KAAM,uCAAuC,CACxD,OAASC,WAAW,KAAQ,yBAAyB,CACrD,OAASC,YAAY,KAAQ,6BAA6B,CAC1D,OAASC,UAAU,KAAQ,qBAAqB,CAChD,OAASC,YAAY,KAAQ,uBAAuB,CACpD,MAAO,CAAAC,eAAe,KAAM,8BAA8B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAE1D,QAAS,CAAAC,MAAMA,CAAA,CAAG,CAChB,KAAM,CAAEC,KAAM,CAAC,CAAGjB,WAAW,CAAEkB,KAAK,EAAKA,KAAK,CAACC,IAAI,CAAC,CACpD,KAAM,CAAEC,IAAK,CAAC,CAAGpB,WAAW,CAAEkB,KAAK,EAAKA,KAAK,CAACG,OAAO,CAAC,CACtD,KAAM,CAAEC,UAAW,CAAC,CAAGtB,WAAW,CAAEkB,KAAK,EAAKA,KAAK,CAACK,IAAI,CAAC,CACzD,KAAM,CAAAC,QAAQ,CAAGrB,WAAW,EAAE,CAE9B,KAAM,CAACsB,QAAQ,CAAEC,WAAW,CAAC,CAAG9B,QAAQ,CAAC,EAAE,CAAC,CAC5C,KAAM,CAAC+B,OAAO,CAAEC,UAAU,CAAC,CAAGhC,QAAQ,CAAC,KAAK,CAAC,CAE7CD,SAAS,CAAC,IAAM,CACd,CAAC,CAAC,SAAY,CACZiC,UAAU,CAAC,IAAI,CAAC,CAChB,GAAI,CACF,KAAM,CAAAC,GAAG,CAAG,KAAM,CAAAvB,YAAY,CAAC,KAAK,CAAEC,UAAU,CAACuB,cAAc,CAAC,CAChEJ,WAAW,CAACG,GAAG,CAACE,IAAI,CAACA,IAAI,CAAC,CAC5B,CAAE,MAAOC,KAAK,CAAE,CACdC,OAAO,CAACC,GAAG,CAAC,6BAA6B,CAAEF,KAAK,CAAC,CACnD,CACAJ,UAAU,CAAC,KAAK,CAAC,CACnB,CAAC,GAAG,CACN,CAAC,CAAE,EAAE,CAAC,CAEN;AAEA,KAAM,CAAAO,UAAU,CAAIC,KAAK,EAAK,CAC5B,MAAO,CAAAlC,SAAS,CAAC,CAAEmC,IAAI,CAAED,KAAM,CAAC,CAAEZ,QAAQ,CAACc,QAAQ,CAAC,CACtD,CAAC,CAED,mBACE3B,IAAA,QACE4B,SAAS,gFAAAC,MAAA,CACPhB,QAAQ,CAACc,QAAQ,GAAK,GAAG,CAAG,kBAAkB,CAAG,EAAE,gCACtB,CAAAG,QAAA,cAE/B1B,KAAA,QAAKwB,SAAS,CAAC,4DAA4D,CAAAE,QAAA,eAEzE9B,IAAA,CAACV,IAAI,EAACyC,EAAE,CAAC,GAAG,CAAAD,QAAA,cACV9B,IAAA,QAAKgC,GAAG,CAAEvC,IAAK,CAACwC,GAAG,CAAC,MAAM,CAACC,KAAK,CAAE,GAAI,CAACC,MAAM,CAAE,EAAG,CAACnB,OAAO,CAAC,MAAM,EAAG,EAC/D,cAEPhB,IAAA,QAAK4B,SAAS,CAAC,iBAAiB,CAAAE,QAAA,cAC9B9B,IAAA,OAAI4B,SAAS,CAAC,gCAAgC,CAAAE,QAAA,CAC3CpC,WAAW,CAAC0C,GAAG,CAAC,CAACC,IAAI,CAAEC,KAAK,QAAAC,gBAAA,oBAC3BvC,IAAA,OAAA8B,QAAA,CACGO,IAAI,CAACG,KAAK,GAAK,SAAS,cACvBxC,IAAA,CAAAE,SAAA,EAAA4B,QAAA,cACE1B,KAAA,QACEwB,SAAS,0DAAAC,MAAA,CACPL,UAAU,CAAC,uBAAuB,CAAC,CAC/B,gBAAgB,CAChB,mBAAmB,CACtB,CAAAM,QAAA,eAEH9B,IAAA,MAAA8B,QAAA,CAAIO,IAAI,CAACG,KAAK,EAAK,cACnBxC,IAAA,CAACZ,aAAa,IAAG,cACjBgB,KAAA,QAAKwB,SAAS,CAAC,gSAAgS,CAAAE,QAAA,eAC7S9B,IAAA,QAAK4B,SAAS,CAAC,2HAA2H,EAAO,CAChJZ,OAAO,cACNhB,IAAA,MAAG4B,SAAS,CAAC,aAAa,CAAAE,QAAA,CAAC,YAAU,EAAI,CACtChB,QAAQ,EAAIA,QAAQ,CAAC2B,MAAM,cAC9BzC,IAAA,CAAAE,SAAA,EAAA4B,QAAA,CACGhB,QAAQ,SAARA,QAAQ,kBAAAyB,gBAAA,CAARzB,QAAQ,CACL4B,MAAM,CACLC,OAAO,OAAAC,gBAAA,OAAK,CAAAD,OAAO,SAAPA,OAAO,kBAAAC,gBAAA,CAAPD,OAAO,CAAEE,OAAO,UAAAD,gBAAA,iBAAhBA,gBAAA,CAAkBH,MAAM,EAAG,CAAC,GAC1C,UAAAF,gBAAA,iBAHFA,gBAAA,CAIGH,GAAG,CAAC,CAACO,OAAO,CAAEG,CAAC,gBACf9C,IAAA,CAACV,IAAI,EACHyC,EAAE,aAAAF,MAAA,CAAcc,OAAO,CAACI,IAAI,CACzBC,KAAK,CAAC,GAAG,CAAC,CACVC,IAAI,CAAC,GAAG,CAAC,CACTC,WAAW,EAAE,CAAG,CACnBtB,SAAS,CAAC,2DAA2D,CAAAE,QAAA,cAGrE9B,IAAA,MAAA8B,QAAA,CAAIa,OAAO,CAACI,IAAI,EAAK,EAFhBD,CAAC,CAIT,CAAC,EACH,cAEH9C,IAAA,MAAG4B,SAAS,CAAC,aAAa,CAAAE,QAAA,CAAC,kBAAgB,EAC5C,GACG,GACF,EACL,cAEH9B,IAAA,CAACV,IAAI,EAACyC,EAAE,CAAEM,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEX,IAAK,CAAAI,QAAA,cACnB9B,IAAA,MACE4B,SAAS,IAAAC,MAAA,CACPL,UAAU,CAACa,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEX,IAAI,CAAC,CAClB,gBAAgB,CAChB,mBAAmB,CACtB,CAAAI,QAAA,CAEFO,IAAI,CAACG,KAAK,EACT,EAEP,EArDMF,KAAK,CAsDT,EACN,CAAC,EACC,EACD,cAENlC,KAAA,QAAKwB,SAAS,CAAC,qCAAqC,CAAAE,QAAA,EACjDrB,IAAI,EAAI,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAE0C,WAAW,IAAKtD,YAAY,CAACuD,UAAU,eACpDhD,KAAA,CAACd,IAAI,EAACyC,EAAE,CAAC,iBAAiB,CAACH,SAAS,CAAC,UAAU,CAAAE,QAAA,eAC7C9B,IAAA,CAACb,qBAAqB,EAACyC,SAAS,CAAC,6BAA6B,EAAG,CAChEjB,UAAU,CAAG,CAAC,eACbX,IAAA,SAAM4B,SAAS,CAAC,yJAAyJ,CAAAE,QAAA,CACtKnB,UAAU,EAEd,GAEJ,CACAL,KAAK,GAAK,IAAI,eACbN,IAAA,CAACV,IAAI,EAACyC,EAAE,CAAC,QAAQ,CAAAD,QAAA,cACf9B,IAAA,WAAQ4B,SAAS,CAAC,kGAAkG,CAAAE,QAAA,CAAC,QAErH,EAAS,EAEZ,CACAxB,KAAK,GAAK,IAAI,eACbN,IAAA,CAACV,IAAI,EAACyC,EAAE,CAAC,SAAS,CAAAD,QAAA,cAChB9B,IAAA,WAAQ4B,SAAS,CAAC,kGAAkG,CAAAE,QAAA,CAAC,SAErH,EAAS,EAEZ,CACAxB,KAAK,GAAK,IAAI,eAAIN,IAAA,CAACF,eAAe,IAAG,GAClC,cACNE,IAAA,WAAQ4B,SAAS,CAAC,gBAAgB,CAAAE,QAAA,cAChC9B,IAAA,CAACd,aAAa,EAACmE,QAAQ,CAAE,EAAG,CAACC,IAAI,CAAC,SAAS,EAAG,EACvC,GACL,EACF,CAEV,CAEA,cAAe,CAAAjD,MAAM"},"metadata":{},"sourceType":"module","externalDependencies":[]}