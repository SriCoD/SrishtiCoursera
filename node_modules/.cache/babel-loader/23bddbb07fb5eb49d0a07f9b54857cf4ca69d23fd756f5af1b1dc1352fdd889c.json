{"ast":null,"code":"import{useEffect,useState}from\"react\";import{BsChevronDown}from\"react-icons/bs\";import{IoIosArrowBack}from\"react-icons/io\";import{useSelector}from\"react-redux\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import IconBtn from\"../../common/IconBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function VideoDetailsSidebar(_ref){let{setReviewModal}=_ref;const[activeStatus,setActiveStatus]=useState(\"\");const[videoBarActive,setVideoBarActive]=useState(\"\");const navigate=useNavigate();const location=useLocation();const{sectionId,subSectionId}=useParams();const{courseSectionData,courseEntireData,totalNoOfLectures,completedLectures}=useSelector(state=>state.viewCourse);useEffect(()=>{;(()=>{var _courseSectionData$cu,_courseSectionData$cu2,_courseSectionData$cu3,_courseSectionData$cu4,_courseSectionData$cu5;if(!courseSectionData.length)return;const currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const currentSubSectionIndx=courseSectionData===null||courseSectionData===void 0?void 0:(_courseSectionData$cu=courseSectionData[currentSectionIndx])===null||_courseSectionData$cu===void 0?void 0:_courseSectionData$cu.subSection.findIndex(data=>data._id===subSectionId);const activeSubSectionId=(_courseSectionData$cu2=courseSectionData[currentSectionIndx])===null||_courseSectionData$cu2===void 0?void 0:(_courseSectionData$cu3=_courseSectionData$cu2.subSection)===null||_courseSectionData$cu3===void 0?void 0:(_courseSectionData$cu4=_courseSectionData$cu3[currentSubSectionIndx])===null||_courseSectionData$cu4===void 0?void 0:_courseSectionData$cu4._id;setActiveStatus(courseSectionData===null||courseSectionData===void 0?void 0:(_courseSectionData$cu5=courseSectionData[currentSectionIndx])===null||_courseSectionData$cu5===void 0?void 0:_courseSectionData$cu5._id);setVideoBarActive(activeSubSectionId);})();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[courseSectionData,courseEntireData,location.pathname]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-[calc(100vh-3.5rem)] w-[320px] max-w-[350px] flex-col border-r-[1px] border-r-richblack-700 bg-richblack-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mx-5 flex flex-col items-start justify-between gap-2 gap-y-4 border-b border-richblack-600 py-5 text-lg font-bold text-richblack-25\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full items-center justify-between \",children:[/*#__PURE__*/_jsx(\"div\",{onClick:()=>{navigate(\"/dashboard/enrolled-courses\");},className:\"flex h-[35px] w-[35px] items-center justify-center rounded-full bg-richblack-100 p-1 text-richblack-700 hover:scale-90\",title:\"back\",children:/*#__PURE__*/_jsx(IoIosArrowBack,{size:30})}),/*#__PURE__*/_jsx(IconBtn,{text:\"Add Review\",customClasses:\"ml-auto\",onclick:()=>setReviewModal(true)})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"p\",{children:courseEntireData===null||courseEntireData===void 0?void 0:courseEntireData.courseName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-semibold text-richblack-500\",children:[completedLectures===null||completedLectures===void 0?void 0:completedLectures.length,\" / \",totalNoOfLectures]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh - 5rem)] overflow-y-auto\",children:courseSectionData.map((course,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 cursor-pointer text-sm text-richblack-5\",onClick:()=>setActiveStatus(course===null||course===void 0?void 0:course._id),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-between bg-richblack-600 px-5 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[70%] font-semibold\",children:course===null||course===void 0?void 0:course.sectionName}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(activeStatus===(course===null||course===void 0?void 0:course.sectionName)?\"rotate-0\":\"rotate-180\",\" transition-all duration-500\"),children:/*#__PURE__*/_jsx(BsChevronDown,{})})})]}),activeStatus===(course===null||course===void 0?void 0:course._id)&&/*#__PURE__*/_jsx(\"div\",{className:\"transition-[height] duration-500 ease-in-out\",children:course.subSection.map((topic,i)=>/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3  px-5 py-2 \".concat(videoBarActive===topic._id?\"bg-yellow-200 font-semibold text-richblack-800\":\"hover:bg-richblack-900\",\" \"),onClick:()=>{navigate(\"/view-course/\".concat(courseEntireData===null||courseEntireData===void 0?void 0:courseEntireData._id,\"/section/\").concat(course===null||course===void 0?void 0:course._id,\"/sub-section/\").concat(topic===null||topic===void 0?void 0:topic._id));setVideoBarActive(topic._id);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:completedLectures.includes(topic===null||topic===void 0?void 0:topic._id),onChange:()=>{}}),topic.title]},i))})]},index))})]})});}","map":{"version":3,"names":["useEffect","useState","BsChevronDown","IoIosArrowBack","useSelector","useLocation","useNavigate","useParams","IconBtn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VideoDetailsSidebar","_ref","setReviewModal","activeStatus","setActiveStatus","videoBarActive","setVideoBarActive","navigate","location","sectionId","subSectionId","courseSectionData","courseEntireData","totalNoOfLectures","completedLectures","state","viewCourse","_courseSectionData$cu","_courseSectionData$cu2","_courseSectionData$cu3","_courseSectionData$cu4","_courseSectionData$cu5","length","currentSectionIndx","findIndex","data","_id","currentSubSectionIndx","subSection","activeSubSectionId","pathname","children","className","onClick","title","size","text","customClasses","onclick","courseName","map","course","index","sectionName","concat","topic","i","type","checked","includes","onChange"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/ViewCourse/VideoDetailsSidebar.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { BsChevronDown } from \"react-icons/bs\"\r\nimport { IoIosArrowBack } from \"react-icons/io\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\"\r\n\r\nimport IconBtn from \"../../common/IconBtn\"\r\n\r\nexport default function VideoDetailsSidebar({ setReviewModal }) {\r\n  const [activeStatus, setActiveStatus] = useState(\"\")\r\n  const [videoBarActive, setVideoBarActive] = useState(\"\")\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  const { sectionId, subSectionId } = useParams()\r\n  const {\r\n    courseSectionData,\r\n    courseEntireData,\r\n    totalNoOfLectures,\r\n    completedLectures,\r\n  } = useSelector((state) => state.viewCourse)\r\n\r\n  useEffect(() => {\r\n    ;(() => {\r\n      if (!courseSectionData.length) return\r\n      const currentSectionIndx = courseSectionData.findIndex(\r\n        (data) => data._id === sectionId\r\n      )\r\n      const currentSubSectionIndx = courseSectionData?.[\r\n        currentSectionIndx\r\n      ]?.subSection.findIndex((data) => data._id === subSectionId)\r\n      const activeSubSectionId =\r\n        courseSectionData[currentSectionIndx]?.subSection?.[\r\n          currentSubSectionIndx\r\n        ]?._id\r\n      setActiveStatus(courseSectionData?.[currentSectionIndx]?._id)\r\n      setVideoBarActive(activeSubSectionId)\r\n    })()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [courseSectionData, courseEntireData, location.pathname])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex h-[calc(100vh-3.5rem)] w-[320px] max-w-[350px] flex-col border-r-[1px] border-r-richblack-700 bg-richblack-800\">\r\n        <div className=\"mx-5 flex flex-col items-start justify-between gap-2 gap-y-4 border-b border-richblack-600 py-5 text-lg font-bold text-richblack-25\">\r\n          <div className=\"flex w-full items-center justify-between \">\r\n            <div\r\n              onClick={() => {\r\n                navigate(`/dashboard/enrolled-courses`)\r\n              }}\r\n              className=\"flex h-[35px] w-[35px] items-center justify-center rounded-full bg-richblack-100 p-1 text-richblack-700 hover:scale-90\"\r\n              title=\"back\"\r\n            >\r\n              <IoIosArrowBack size={30} />\r\n            </div>\r\n            <IconBtn\r\n              text=\"Add Review\"\r\n              customClasses=\"ml-auto\"\r\n              onclick={() => setReviewModal(true)}\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-col\">\r\n            <p>{courseEntireData?.courseName}</p>\r\n            <p className=\"text-sm font-semibold text-richblack-500\">\r\n              {completedLectures?.length} / {totalNoOfLectures}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"h-[calc(100vh - 5rem)] overflow-y-auto\">\r\n          {courseSectionData.map((course, index) => (\r\n            <div\r\n              className=\"mt-2 cursor-pointer text-sm text-richblack-5\"\r\n              onClick={() => setActiveStatus(course?._id)}\r\n              key={index}\r\n            >\r\n              {/* Section */}\r\n              <div className=\"flex flex-row justify-between bg-richblack-600 px-5 py-4\">\r\n                <div className=\"w-[70%] font-semibold\">\r\n                  {course?.sectionName}\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  {/* <span className=\"text-[12px] font-medium\">\r\n                    Lession {course?.subSection.length}\r\n                  </span> */}\r\n                  <span\r\n                    className={`${\r\n                      activeStatus === course?.sectionName\r\n                        ? \"rotate-0\"\r\n                        : \"rotate-180\"\r\n                    } transition-all duration-500`}\r\n                  >\r\n                    <BsChevronDown />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Sub Sections */}\r\n              {activeStatus === course?._id && (\r\n                <div className=\"transition-[height] duration-500 ease-in-out\">\r\n                  {course.subSection.map((topic, i) => (\r\n                    <div\r\n                      className={`flex gap-3  px-5 py-2 ${\r\n                        videoBarActive === topic._id\r\n                          ? \"bg-yellow-200 font-semibold text-richblack-800\"\r\n                          : \"hover:bg-richblack-900\"\r\n                      } `}\r\n                      key={i}\r\n                      onClick={() => {\r\n                        navigate(\r\n                          `/view-course/${courseEntireData?._id}/section/${course?._id}/sub-section/${topic?._id}`\r\n                        )\r\n                        setVideoBarActive(topic._id)\r\n                      }}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={completedLectures.includes(topic?._id)}\r\n                        onChange={() => {}}\r\n                      />\r\n                      {topic.title}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}