{"ast":null,"code":"import{useEffect,useRef,useState}from\"react\";import{AiOutlineDown}from\"react-icons/ai\";import CourseSubSectionAccordion from\"./CourseSubSectionAccordion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CourseAccordionBar(_ref){var _course$subSection;let{course,isActive,handleActive}=_ref;const contentEl=useRef(null);// Accordian state\nconst[active,setActive]=useState(false);useEffect(()=>{setActive(isActive===null||isActive===void 0?void 0:isActive.includes(course._id));},[isActive]);const[sectionHeight,setSectionHeight]=useState(0);useEffect(()=>{setSectionHeight(active?contentEl.current.scrollHeight:0);},[active]);return/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-hidden border border-solid border-richblack-600 bg-richblack-700 text-richblack-5 last:mb-0\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex cursor-pointer items-start justify-between bg-opacity-20 px-7  py-6 transition-[0.3s]\",onClick:()=>{handleActive(course._id);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:isActive.includes(course._id)?\"rotate-180\":\"rotate-0\",children:/*#__PURE__*/_jsx(AiOutlineDown,{})}),/*#__PURE__*/_jsx(\"p\",{children:course===null||course===void 0?void 0:course.sectionName})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-x-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-25\",children:\"\".concat(course.subSection.length||0,\" lecture(s)\")})})]})}),/*#__PURE__*/_jsx(\"div\",{ref:contentEl,className:\"relative h-0 overflow-hidden bg-richblack-900 transition-[height] duration-[0.35s] ease-[ease]\",style:{height:sectionHeight},children:/*#__PURE__*/_jsx(\"div\",{className:\"text-textHead flex flex-col gap-2 px-7 py-6 font-semibold\",children:course===null||course===void 0?void 0:(_course$subSection=course.subSection)===null||_course$subSection===void 0?void 0:_course$subSection.map((subSec,i)=>{return/*#__PURE__*/_jsx(CourseSubSectionAccordion,{subSec:subSec},i);})})})]});}","map":{"version":3,"names":["useEffect","useRef","useState","AiOutlineDown","CourseSubSectionAccordion","jsx","_jsx","jsxs","_jsxs","CourseAccordionBar","_ref","_course$subSection","course","isActive","handleActive","contentEl","active","setActive","includes","_id","sectionHeight","setSectionHeight","current","scrollHeight","className","children","onClick","sectionName","concat","subSection","length","ref","style","height","map","subSec","i"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/Course/CourseAccordionBar.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\"\r\nimport { AiOutlineDown } from \"react-icons/ai\"\r\n\r\nimport CourseSubSectionAccordion from \"./CourseSubSectionAccordion\"\r\n\r\nexport default function CourseAccordionBar({ course, isActive, handleActive }) {\r\n  const contentEl = useRef(null)\r\n\r\n  // Accordian state\r\n  const [active, setActive] = useState(false)\r\n  useEffect(() => {\r\n    setActive(isActive?.includes(course._id))\r\n  }, [isActive])\r\n  const [sectionHeight, setSectionHeight] = useState(0)\r\n  useEffect(() => {\r\n    setSectionHeight(active ? contentEl.current.scrollHeight : 0)\r\n  }, [active])\r\n\r\n  return (\r\n    <div className=\"overflow-hidden border border-solid border-richblack-600 bg-richblack-700 text-richblack-5 last:mb-0\">\r\n      <div>\r\n        <div\r\n          className={`flex cursor-pointer items-start justify-between bg-opacity-20 px-7  py-6 transition-[0.3s]`}\r\n          onClick={() => {\r\n            handleActive(course._id)\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-2\">\r\n            <i\r\n              className={\r\n                isActive.includes(course._id) ? \"rotate-180\" : \"rotate-0\"\r\n              }\r\n            >\r\n              <AiOutlineDown />\r\n            </i>\r\n            <p>{course?.sectionName}</p>\r\n          </div>\r\n          <div className=\"space-x-4\">\r\n            <span className=\"text-yellow-25\">\r\n              {`${course.subSection.length || 0} lecture(s)`}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        ref={contentEl}\r\n        className={`relative h-0 overflow-hidden bg-richblack-900 transition-[height] duration-[0.35s] ease-[ease]`}\r\n        style={{\r\n          height: sectionHeight,\r\n        }}\r\n      >\r\n        <div className=\"text-textHead flex flex-col gap-2 px-7 py-6 font-semibold\">\r\n          {course?.subSection?.map((subSec, i) => {\r\n            return <CourseSubSectionAccordion subSec={subSec} key={i} />\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,aAAa,KAAQ,gBAAgB,CAE9C,MAAO,CAAAC,yBAAyB,KAAM,6BAA6B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnE,cAAe,SAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAAqC,KAAAC,kBAAA,IAApC,CAAEC,MAAM,CAAEC,QAAQ,CAAEC,YAAa,CAAC,CAAAJ,IAAA,CAC3E,KAAM,CAAAK,SAAS,CAAGd,MAAM,CAAC,IAAI,CAAC,CAE9B;AACA,KAAM,CAACe,MAAM,CAAEC,SAAS,CAAC,CAAGf,QAAQ,CAAC,KAAK,CAAC,CAC3CF,SAAS,CAAC,IAAM,CACdiB,SAAS,CAACJ,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEK,QAAQ,CAACN,MAAM,CAACO,GAAG,CAAC,CAAC,CAC3C,CAAC,CAAE,CAACN,QAAQ,CAAC,CAAC,CACd,KAAM,CAACO,aAAa,CAAEC,gBAAgB,CAAC,CAAGnB,QAAQ,CAAC,CAAC,CAAC,CACrDF,SAAS,CAAC,IAAM,CACdqB,gBAAgB,CAACL,MAAM,CAAGD,SAAS,CAACO,OAAO,CAACC,YAAY,CAAG,CAAC,CAAC,CAC/D,CAAC,CAAE,CAACP,MAAM,CAAC,CAAC,CAEZ,mBACER,KAAA,QAAKgB,SAAS,CAAC,sGAAsG,CAAAC,QAAA,eACnHnB,IAAA,QAAAmB,QAAA,cACEjB,KAAA,QACEgB,SAAS,6FAA+F,CACxGE,OAAO,CAAEA,CAAA,GAAM,CACbZ,YAAY,CAACF,MAAM,CAACO,GAAG,CAAC,CAC1B,CAAE,CAAAM,QAAA,eAEFjB,KAAA,QAAKgB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCnB,IAAA,MACEkB,SAAS,CACPX,QAAQ,CAACK,QAAQ,CAACN,MAAM,CAACO,GAAG,CAAC,CAAG,YAAY,CAAG,UAChD,CAAAM,QAAA,cAEDnB,IAAA,CAACH,aAAa,IAAG,EACf,cACJG,IAAA,MAAAmB,QAAA,CAAIb,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEe,WAAW,EAAK,GACxB,cACNrB,IAAA,QAAKkB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBnB,IAAA,SAAMkB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,IAAAG,MAAA,CAC1BhB,MAAM,CAACiB,UAAU,CAACC,MAAM,EAAI,CAAC,iBAC5B,EACH,GACF,EACF,cACNxB,IAAA,QACEyB,GAAG,CAAEhB,SAAU,CACfS,SAAS,iGAAmG,CAC5GQ,KAAK,CAAE,CACLC,MAAM,CAAEb,aACV,CAAE,CAAAK,QAAA,cAEFnB,IAAA,QAAKkB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,CACvEb,MAAM,SAANA,MAAM,kBAAAD,kBAAA,CAANC,MAAM,CAAEiB,UAAU,UAAAlB,kBAAA,iBAAlBA,kBAAA,CAAoBuB,GAAG,CAAC,CAACC,MAAM,CAAEC,CAAC,GAAK,CACtC,mBAAO9B,IAAA,CAACF,yBAAyB,EAAC+B,MAAM,CAAEA,MAAO,EAAMC,CAAC,CAAI,CAC9D,CAAC,CAAC,EACE,EACF,GACF,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}