{"ast":null,"code":"import React from\"react\";import copy from\"copy-to-clipboard\";import{toast}from\"react-hot-toast\";import{BsFillCaretRightFill}from\"react-icons/bs\";import{FaShareSquare}from\"react-icons/fa\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{addToCart}from\"../../../slices/cartSlice\";import{ACCOUNT_TYPE}from\"../../../utils/constants\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";function CourseDetailsCard(_ref){var _course$instructions;var course=_ref.course,setConfirmationModal=_ref.setConfirmationModal,handleBuyCourse=_ref.handleBuyCourse;var _useSelector=useSelector(function(state){return state.profile;}),user=_useSelector.user;var _useSelector2=useSelector(function(state){return state.auth;}),token=_useSelector2.token;var navigate=useNavigate();var dispatch=useDispatch();var ThumbnailImage=course.thumbnail,CurrentPrice=course.price,courseId=course._id;var handleShare=function handleShare(){copy(window.location.href);toast.success(\"Link copied to clipboard\");};var handleAddToCart=function handleAddToCart(){if(user&&(user===null||user===void 0?void 0:user.accountType)===ACCOUNT_TYPE.INSTRUCTOR){toast.error(\"You are an Instructor. You can't buy a course.\");return;}if(token){dispatch(addToCart(course));return;}setConfirmationModal({text1:\"You are not logged in!\",text2:\"Please login to add To Cart\",btn1Text:\"Login\",btn2Text:\"Cancel\",btn1Handler:function btn1Handler(){return navigate(\"/login\");},btn2Handler:function btn2Handler(){return setConfirmationModal(null);}});};// console.log(\"Student already enrolled \", course?.studentsEnroled, user?._id)\nreturn/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4 rounded-md bg-richblack-700 p-4 text-richblack-5\",children:[/*#__PURE__*/_jsx(\"img\",{src:ThumbnailImage,alt:course===null||course===void 0?void 0:course.courseName,className:\"max-h-[300px] min-h-[180px] w-[400px] overflow-hidden rounded-2xl object-cover md:max-w-full\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"px-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"space-x-3 pb-4 text-3xl font-semibold\",children:[\"Rs. \",CurrentPrice]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"yellowButton\",onClick:user&&course!==null&&course!==void 0&&course.studentsEnrolled.includes(user===null||user===void 0?void 0:user._id)?function(){return navigate(\"/dashboard/enrolled-courses\");}:handleBuyCourse,children:user&&course!==null&&course!==void 0&&course.studentsEnrolled.includes(user===null||user===void 0?void 0:user._id)?\"Go To Course\":\"Buy Now\"}),(!user||!(course!==null&&course!==void 0&&course.studentsEnrolled.includes(user===null||user===void 0?void 0:user._id)))&&/*#__PURE__*/_jsx(\"button\",{onClick:handleAddToCart,className:\"blackButton\",children:\"Add to Cart\"})]}),/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"p\",{className:\"pb-3 pt-6 text-center text-sm text-richblack-25\",children:\"30-Day Money-Back Guarantee\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"my-2 text-xl font-semibold \",children:\"This Course Includes :\"}),/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col gap-3 text-sm text-caribbeangreen-100\",children:course===null||course===void 0?void 0:(_course$instructions=course.instructions)===null||_course$instructions===void 0?void 0:_course$instructions.map(function(item,i){return/*#__PURE__*/_jsxs(\"p\",{className:\"flex gap-2\",children:[/*#__PURE__*/_jsx(BsFillCaretRightFill,{}),/*#__PURE__*/_jsx(\"span\",{children:item})]},i);})})]}),/*#__PURE__*/_jsx(\"div\",{className:\"text-center\",children:/*#__PURE__*/_jsxs(\"button\",{className:\"mx-auto flex items-center gap-2 py-6 text-yellow-100 \",onClick:handleShare,children:[/*#__PURE__*/_jsx(FaShareSquare,{size:15}),\" Share\"]})})]})]})});}export default CourseDetailsCard;","map":{"version":3,"names":["React","copy","toast","BsFillCaretRightFill","FaShareSquare","useDispatch","useSelector","useNavigate","addToCart","ACCOUNT_TYPE","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CourseDetailsCard","_ref","_course$instructions","course","setConfirmationModal","handleBuyCourse","_useSelector","state","profile","user","_useSelector2","auth","token","navigate","dispatch","ThumbnailImage","thumbnail","CurrentPrice","price","courseId","_id","handleShare","window","location","href","success","handleAddToCart","accountType","INSTRUCTOR","error","text1","text2","btn1Text","btn2Text","btn1Handler","btn2Handler","children","className","src","alt","courseName","onClick","studentsEnrolled","includes","instructions","map","item","i","size"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/Course/CourseDetailsCard.js"],"sourcesContent":["import React from \"react\"\r\nimport copy from \"copy-to-clipboard\"\r\nimport { toast } from \"react-hot-toast\"\r\nimport { BsFillCaretRightFill } from \"react-icons/bs\"\r\nimport { FaShareSquare } from \"react-icons/fa\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nimport { addToCart } from \"../../../slices/cartSlice\"\r\nimport { ACCOUNT_TYPE } from \"../../../utils/constants\"\r\n\r\n\r\nfunction CourseDetailsCard({ course, setConfirmationModal, handleBuyCourse }) {\r\n  const { user } = useSelector((state) => state.profile)\r\n  const { token } = useSelector((state) => state.auth)\r\n  const navigate = useNavigate()\r\n  const dispatch = useDispatch()\r\n\r\n  const {\r\n    thumbnail: ThumbnailImage,\r\n    price: CurrentPrice,\r\n    _id: courseId,\r\n  } = course\r\n\r\n  const handleShare = () => {\r\n    copy(window.location.href)\r\n    toast.success(\"Link copied to clipboard\")\r\n  }\r\n\r\n  const handleAddToCart = () => {\r\n    if (user && user?.accountType === ACCOUNT_TYPE.INSTRUCTOR) {\r\n      toast.error(\"You are an Instructor. You can't buy a course.\")\r\n      return\r\n    }\r\n    if (token) {\r\n      dispatch(addToCart(course))\r\n      return\r\n    }\r\n    setConfirmationModal({\r\n      text1: \"You are not logged in!\",\r\n      text2: \"Please login to add To Cart\",\r\n      btn1Text: \"Login\",\r\n      btn2Text: \"Cancel\",\r\n      btn1Handler: () => navigate(\"/login\"),\r\n      btn2Handler: () => setConfirmationModal(null),\r\n    })\r\n  }\r\n\r\n  // console.log(\"Student already enrolled \", course?.studentsEnroled, user?._id)\r\n\r\n  return (\r\n    <>\r\n      <div\r\n        className={`flex flex-col gap-4 rounded-md bg-richblack-700 p-4 text-richblack-5`}\r\n      >\r\n        {/* Course Image */}\r\n        <img\r\n          src={ThumbnailImage}\r\n          alt={course?.courseName}\r\n          className=\"max-h-[300px] min-h-[180px] w-[400px] overflow-hidden rounded-2xl object-cover md:max-w-full\"\r\n        />\r\n\r\n        <div className=\"px-4\">\r\n          <div className=\"space-x-3 pb-4 text-3xl font-semibold\">\r\n            Rs. {CurrentPrice}\r\n          </div>\r\n          <div className=\"flex flex-col gap-4\">\r\n            <button\r\n              className=\"yellowButton\"\r\n              onClick={\r\n                user && course?.studentsEnrolled.includes(user?._id)\r\n                  ? () => navigate(\"/dashboard/enrolled-courses\")\r\n                  : handleBuyCourse\r\n              }\r\n            >\r\n              {user && course?.studentsEnrolled.includes(user?._id)\r\n                ? \"Go To Course\"\r\n                : \"Buy Now\"}\r\n            </button>\r\n            {(!user || !course?.studentsEnrolled.includes(user?._id)) && (\r\n              <button onClick={handleAddToCart} className=\"blackButton\">\r\n                Add to Cart\r\n              </button>\r\n            )}\r\n          </div>\r\n          <div>\r\n            <p className=\"pb-3 pt-6 text-center text-sm text-richblack-25\">\r\n              30-Day Money-Back Guarantee\r\n            </p>\r\n          </div>\r\n\r\n          <div className={``}>\r\n            <p className={`my-2 text-xl font-semibold `}>\r\n              This Course Includes :\r\n            </p>\r\n            <div className=\"flex flex-col gap-3 text-sm text-caribbeangreen-100\">\r\n              {course?.instructions?.map((item, i) => {\r\n                return (\r\n                  <p className={`flex gap-2`} key={i}>\r\n                    <BsFillCaretRightFill />\r\n                    <span>{item}</span>\r\n                  </p>\r\n                )\r\n              })}\r\n            </div>\r\n          </div>\r\n          <div className=\"text-center\">\r\n            <button\r\n              className=\"mx-auto flex items-center gap-2 py-6 text-yellow-100 \"\r\n              onClick={handleShare}\r\n            >\r\n              <FaShareSquare size={15} /> Share\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default CourseDetailsCard"],"mappings":"AAAA,MAAO,CAAAA,KAAK,KAAM,OAAO,CACzB,MAAO,CAAAC,IAAI,KAAM,mBAAmB,CACpC,OAASC,KAAK,KAAQ,iBAAiB,CACvC,OAASC,oBAAoB,KAAQ,gBAAgB,CACrD,OAASC,aAAa,KAAQ,gBAAgB,CAC9C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,WAAW,KAAQ,kBAAkB,CAE9C,OAASC,SAAS,KAAQ,2BAA2B,CACrD,OAASC,YAAY,KAAQ,0BAA0B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAGvD,QAAS,CAAAC,iBAAiBA,CAAAC,IAAA,CAAoD,KAAAC,oBAAA,IAAjD,CAAAC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAAEC,oBAAoB,CAAAH,IAAA,CAApBG,oBAAoB,CAAEC,eAAe,CAAAJ,IAAA,CAAfI,eAAe,CACxE,IAAAC,YAAA,CAAiBhB,WAAW,CAAC,SAACiB,KAAK,QAAK,CAAAA,KAAK,CAACC,OAAO,GAAC,CAA9CC,IAAI,CAAAH,YAAA,CAAJG,IAAI,CACZ,IAAAC,aAAA,CAAkBpB,WAAW,CAAC,SAACiB,KAAK,QAAK,CAAAA,KAAK,CAACI,IAAI,GAAC,CAA5CC,KAAK,CAAAF,aAAA,CAALE,KAAK,CACb,GAAM,CAAAC,QAAQ,CAAGtB,WAAW,EAAE,CAC9B,GAAM,CAAAuB,QAAQ,CAAGzB,WAAW,EAAE,CAE9B,GACa,CAAA0B,cAAc,CAGvBZ,MAAM,CAHRa,SAAS,CACFC,YAAY,CAEjBd,MAAM,CAFRe,KAAK,CACAC,QAAQ,CACXhB,MAAM,CADRiB,GAAG,CAGL,GAAM,CAAAC,WAAW,CAAG,QAAd,CAAAA,WAAWA,CAAA,CAAS,CACxBpC,IAAI,CAACqC,MAAM,CAACC,QAAQ,CAACC,IAAI,CAAC,CAC1BtC,KAAK,CAACuC,OAAO,CAAC,0BAA0B,CAAC,CAC3C,CAAC,CAED,GAAM,CAAAC,eAAe,CAAG,QAAlB,CAAAA,eAAeA,CAAA,CAAS,CAC5B,GAAIjB,IAAI,EAAI,CAAAA,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEkB,WAAW,IAAKlC,YAAY,CAACmC,UAAU,CAAE,CACzD1C,KAAK,CAAC2C,KAAK,CAAC,gDAAgD,CAAC,CAC7D,OACF,CACA,GAAIjB,KAAK,CAAE,CACTE,QAAQ,CAACtB,SAAS,CAACW,MAAM,CAAC,CAAC,CAC3B,OACF,CACAC,oBAAoB,CAAC,CACnB0B,KAAK,CAAE,wBAAwB,CAC/BC,KAAK,CAAE,6BAA6B,CACpCC,QAAQ,CAAE,OAAO,CACjBC,QAAQ,CAAE,QAAQ,CAClBC,WAAW,CAAE,SAAAA,YAAA,QAAM,CAAArB,QAAQ,CAAC,QAAQ,CAAC,GACrCsB,WAAW,CAAE,SAAAA,YAAA,QAAM,CAAA/B,oBAAoB,CAAC,IAAI,CAAC,EAC/C,CAAC,CAAC,CACJ,CAAC,CAED;AAEA,mBACET,IAAA,CAAAI,SAAA,EAAAqC,QAAA,cACEvC,KAAA,QACEwC,SAAS,uEAAyE,CAAAD,QAAA,eAGlFzC,IAAA,QACE2C,GAAG,CAAEvB,cAAe,CACpBwB,GAAG,CAAEpC,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEqC,UAAW,CACxBH,SAAS,CAAC,8FAA8F,EACxG,cAEFxC,KAAA,QAAKwC,SAAS,CAAC,MAAM,CAAAD,QAAA,eACnBvC,KAAA,QAAKwC,SAAS,CAAC,uCAAuC,CAAAD,QAAA,EAAC,MACjD,CAACnB,YAAY,GACb,cACNpB,KAAA,QAAKwC,SAAS,CAAC,qBAAqB,CAAAD,QAAA,eAClCzC,IAAA,WACE0C,SAAS,CAAC,cAAc,CACxBI,OAAO,CACLhC,IAAI,EAAIN,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEuC,gBAAgB,CAACC,QAAQ,CAAClC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEW,GAAG,CAAC,CAChD,iBAAM,CAAAP,QAAQ,CAAC,6BAA6B,CAAC,GAC7CR,eACL,CAAA+B,QAAA,CAEA3B,IAAI,EAAIN,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEuC,gBAAgB,CAACC,QAAQ,CAAClC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEW,GAAG,CAAC,CACjD,cAAc,CACd,SAAS,EACN,CACR,CAAC,CAACX,IAAI,EAAI,EAACN,MAAM,SAANA,MAAM,WAANA,MAAM,CAAEuC,gBAAgB,CAACC,QAAQ,CAAClC,IAAI,SAAJA,IAAI,iBAAJA,IAAI,CAAEW,GAAG,CAAC,iBACtDzB,IAAA,WAAQ8C,OAAO,CAAEf,eAAgB,CAACW,SAAS,CAAC,aAAa,CAAAD,QAAA,CAAC,aAE1D,EACD,GACG,cACNzC,IAAA,QAAAyC,QAAA,cACEzC,IAAA,MAAG0C,SAAS,CAAC,iDAAiD,CAAAD,QAAA,CAAC,6BAE/D,EAAI,EACA,cAENvC,KAAA,QAAKwC,SAAS,GAAK,CAAAD,QAAA,eACjBzC,IAAA,MAAG0C,SAAS,8BAAgC,CAAAD,QAAA,CAAC,wBAE7C,EAAI,cACJzC,IAAA,QAAK0C,SAAS,CAAC,qDAAqD,CAAAD,QAAA,CACjEjC,MAAM,SAANA,MAAM,kBAAAD,oBAAA,CAANC,MAAM,CAAEyC,YAAY,UAAA1C,oBAAA,iBAApBA,oBAAA,CAAsB2C,GAAG,CAAC,SAACC,IAAI,CAAEC,CAAC,CAAK,CACtC,mBACElD,KAAA,MAAGwC,SAAS,aAAe,CAAAD,QAAA,eACzBzC,IAAA,CAACR,oBAAoB,IAAG,cACxBQ,IAAA,SAAAyC,QAAA,CAAOU,IAAI,EAAQ,GAFYC,CAAC,CAG9B,CAER,CAAC,CAAC,EACE,GACF,cACNpD,IAAA,QAAK0C,SAAS,CAAC,aAAa,CAAAD,QAAA,cAC1BvC,KAAA,WACEwC,SAAS,CAAC,uDAAuD,CACjEI,OAAO,CAAEpB,WAAY,CAAAe,QAAA,eAErBzC,IAAA,CAACP,aAAa,EAAC4D,IAAI,CAAE,EAAG,EAAG,SAC7B,GAAS,EACL,GACF,GACF,EACL,CAEP,CAEA,cAAe,CAAAhD,iBAAiB"},"metadata":{},"sourceType":"module","externalDependencies":[]}