{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Outlet,useParams}from\"react-router-dom\";import CourseReviewModal from\"../components/core/ViewCourse/CourseReviewModal\";import VideoDetailsSidebar from\"../components/core/ViewCourse/VideoDetailsSidebar\";import{getFullDetailsOfCourse}from\"../services/operations/courseDetailsAPI\";import{setCompletedLectures,setCourseSectionData,setEntireCourseData,setTotalNoOfLectures}from\"../slices/viewCourseSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ViewCourse(){var _useParams=useParams(),courseId=_useParams.courseId;var _useSelector=useSelector(function(state){return state.auth;}),token=_useSelector.token;var dispatch=useDispatch();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),reviewModal=_useState2[0],setReviewModal=_useState2[1];useEffect(function(){;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _courseData$courseDet,_courseData$courseDet2;var courseData,lectures;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getFullDetailsOfCourse(courseId,token);case 2:courseData=_context.sent;// console.log(\"Course Data here... \", courseData.courseDetails)\ndispatch(setCourseSectionData(courseData.courseDetails.courseContent));dispatch(setEntireCourseData(courseData.courseDetails));dispatch(setCompletedLectures(courseData.completedVideos));lectures=0;courseData===null||courseData===void 0?void 0:(_courseData$courseDet=courseData.courseDetails)===null||_courseData$courseDet===void 0?void 0:(_courseData$courseDet2=_courseData$courseDet.courseContent)===null||_courseData$courseDet2===void 0?void 0:_courseData$courseDet2.forEach(function(sec){lectures+=sec.subSection.length;});dispatch(setTotalNoOfLectures(lectures));case 9:case\"end\":return _context.stop();}},_callee);}))();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex min-h-[calc(100vh-3.5rem)]\",children:[/*#__PURE__*/_jsx(VideoDetailsSidebar,{setReviewModal:setReviewModal}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh-3.5rem)] flex-1 overflow-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-6\",children:/*#__PURE__*/_jsx(Outlet,{})})})]}),reviewModal&&/*#__PURE__*/_jsx(CourseReviewModal,{setReviewModal:setReviewModal})]});}","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","Outlet","useParams","CourseReviewModal","VideoDetailsSidebar","getFullDetailsOfCourse","setCompletedLectures","setCourseSectionData","setEntireCourseData","setTotalNoOfLectures","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ViewCourse","_useParams","courseId","_useSelector","state","auth","token","dispatch","_useState","_useState2","_slicedToArray","reviewModal","setReviewModal","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_courseData$courseDet","_courseData$courseDet2","courseData","lectures","wrap","_callee$","_context","prev","next","sent","courseDetails","courseContent","completedVideos","forEach","sec","subSection","length","stop","children","className"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/pages/ViewCourse.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Outlet, useParams } from \"react-router-dom\"\r\n\r\nimport CourseReviewModal from \"../components/core/ViewCourse/CourseReviewModal\"\r\nimport VideoDetailsSidebar from \"../components/core/ViewCourse/VideoDetailsSidebar\"\r\nimport { getFullDetailsOfCourse } from \"../services/operations/courseDetailsAPI\"\r\nimport {\r\n  setCompletedLectures,\r\n  setCourseSectionData,\r\n  setEntireCourseData,\r\n  setTotalNoOfLectures,\r\n} from \"../slices/viewCourseSlice\"\r\n\r\nexport default function ViewCourse() {\r\n  const { courseId } = useParams()\r\n  const { token } = useSelector((state) => state.auth)\r\n  const dispatch = useDispatch()\r\n  const [reviewModal, setReviewModal] = useState(false)\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      const courseData = await getFullDetailsOfCourse(courseId, token)\r\n      // console.log(\"Course Data here... \", courseData.courseDetails)\r\n      dispatch(setCourseSectionData(courseData.courseDetails.courseContent))\r\n      dispatch(setEntireCourseData(courseData.courseDetails))\r\n      dispatch(setCompletedLectures(courseData.completedVideos))\r\n      let lectures = 0\r\n      courseData?.courseDetails?.courseContent?.forEach((sec) => {\r\n        lectures += sec.subSection.length\r\n      })\r\n      dispatch(setTotalNoOfLectures(lectures))\r\n    })()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"relative flex min-h-[calc(100vh-3.5rem)]\">\r\n        <VideoDetailsSidebar setReviewModal={setReviewModal} />\r\n        <div className=\"h-[calc(100vh-3.5rem)] flex-1 overflow-auto\">\r\n          <div className=\"mx-6\">\r\n            <Outlet />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {reviewModal && <CourseReviewModal setReviewModal={setReviewModal} />}\r\n    </>\r\n  )\r\n}"],"mappings":"mcAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,CAAEC,SAAS,KAAQ,kBAAkB,CAEpD,MAAO,CAAAC,iBAAiB,KAAM,iDAAiD,CAC/E,MAAO,CAAAC,mBAAmB,KAAM,mDAAmD,CACnF,OAASC,sBAAsB,KAAQ,yCAAyC,CAChF,OACEC,oBAAoB,CACpBC,oBAAoB,CACpBC,mBAAmB,CACnBC,oBAAoB,KACf,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElC,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,IAAAC,UAAA,CAAqBf,SAAS,EAAE,CAAxBgB,QAAQ,CAAAD,UAAA,CAARC,QAAQ,CAChB,IAAAC,YAAA,CAAkBnB,WAAW,CAAC,SAACoB,KAAK,QAAK,CAAAA,KAAK,CAACC,IAAI,GAAC,CAA5CC,KAAK,CAAAH,YAAA,CAALG,KAAK,CACb,GAAM,CAAAC,QAAQ,CAAGxB,WAAW,EAAE,CAC9B,IAAAyB,SAAA,CAAsC1B,QAAQ,CAAC,KAAK,CAAC,CAAA2B,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA9CG,WAAW,CAAAF,UAAA,IAAEG,cAAc,CAAAH,UAAA,IAElC5B,SAAS,CAAC,UAAM,CACd,CAACgC,iBAAA,cAAAC,mBAAA,GAAAC,IAAA,CAAC,SAAAC,QAAA,MAAAC,qBAAA,CAAAC,sBAAA,KAAAC,UAAA,CAAAC,QAAA,QAAAN,mBAAA,GAAAO,IAAA,UAAAC,SAAAC,QAAA,iBAAAA,QAAA,CAAAC,IAAA,CAAAD,QAAA,CAAAE,IAAA,SAAAF,QAAA,CAAAE,IAAA,SACyB,CAAApC,sBAAsB,CAACa,QAAQ,CAAEI,KAAK,CAAC,QAA1Da,UAAU,CAAAI,QAAA,CAAAG,IAAA,CAChB;AACAnB,QAAQ,CAAChB,oBAAoB,CAAC4B,UAAU,CAACQ,aAAa,CAACC,aAAa,CAAC,CAAC,CACtErB,QAAQ,CAACf,mBAAmB,CAAC2B,UAAU,CAACQ,aAAa,CAAC,CAAC,CACvDpB,QAAQ,CAACjB,oBAAoB,CAAC6B,UAAU,CAACU,eAAe,CAAC,CAAC,CACtDT,QAAQ,CAAG,CAAC,CAChBD,UAAU,SAAVA,UAAU,kBAAAF,qBAAA,CAAVE,UAAU,CAAEQ,aAAa,UAAAV,qBAAA,kBAAAC,sBAAA,CAAzBD,qBAAA,CAA2BW,aAAa,UAAAV,sBAAA,iBAAxCA,sBAAA,CAA0CY,OAAO,CAAC,SAACC,GAAG,CAAK,CACzDX,QAAQ,EAAIW,GAAG,CAACC,UAAU,CAACC,MAAM,CACnC,CAAC,CAAC,CACF1B,QAAQ,CAACd,oBAAoB,CAAC2B,QAAQ,CAAC,CAAC,yBAAAG,QAAA,CAAAW,IAAA,MAAAlB,OAAA,GACzC,IAAG,CACJ;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEnB,KAAA,CAAAE,SAAA,EAAAoC,QAAA,eACEtC,KAAA,QAAKuC,SAAS,CAAC,0CAA0C,CAAAD,QAAA,eACvDxC,IAAA,CAACP,mBAAmB,EAACwB,cAAc,CAAEA,cAAe,EAAG,cACvDjB,IAAA,QAAKyC,SAAS,CAAC,6CAA6C,CAAAD,QAAA,cAC1DxC,IAAA,QAAKyC,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBxC,IAAA,CAACV,MAAM,IAAG,EACN,EACF,GACF,CACL0B,WAAW,eAAIhB,IAAA,CAACR,iBAAiB,EAACyB,cAAc,CAAEA,cAAe,EAAG,GACpE,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}