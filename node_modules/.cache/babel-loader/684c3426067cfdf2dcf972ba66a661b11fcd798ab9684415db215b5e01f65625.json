{"ast":null,"code":"import React,{useEffect,useRef,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate,useParams}from\"react-router-dom\";import\"video-react/dist/video-react.css\";import{useLocation}from\"react-router-dom\";import{BigPlayButton,Player}from\"video-react\";import{markLectureAsComplete}from\"../../../services/operations/courseDetailsAPI\";import{updateCompletedLectures}from\"../../../slices/viewCourseSlice\";import IconBtn from\"../../common/IconBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const VideoDetails=()=>{const{courseId,sectionId,subSectionId}=useParams();const navigate=useNavigate();const location=useLocation();const playerRef=useRef(null);const dispatch=useDispatch();const{token}=useSelector(state=>state.auth);const{courseSectionData,courseEntireData,completedLectures}=useSelector(state=>state.viewCourse);const[videoData,setVideoData]=useState([]);const[previewSource,setPreviewSource]=useState(\"\");const[videoEnded,setVideoEnded]=useState(false);const[loading,setLoading]=useState(false);useEffect(()=>{;(async()=>{if(!courseSectionData.length)return;if(!courseId&&!sectionId&&!subSectionId){navigate(\"/dashboard/enrolled-courses\");}else{var _filteredData$;// console.log(\"courseSectionData\", courseSectionData)\nconst filteredData=courseSectionData.filter(course=>course._id===sectionId);// console.log(\"filteredData\", filteredData)\nconst filteredVideoData=filteredData===null||filteredData===void 0?void 0:(_filteredData$=filteredData[0])===null||_filteredData$===void 0?void 0:_filteredData$.subSection.filter(data=>data._id===subSectionId);// console.log(\"filteredVideoData\", filteredVideoData)\nsetVideoData(filteredVideoData[0]);setPreviewSource(courseEntireData.thumbnail);setVideoEnded(false);}})();},[courseSectionData,courseEntireData,location.pathname]);// check if the lecture is the first video of the course\nconst isFirstVideo=()=>{const currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(data=>data._id===subSectionId);if(currentSectionIndx===0&&currentSubSectionIndx===0){return true;}else{return false;}};// go to the next video\nconst goToNextVideo=()=>{// console.log(courseSectionData)\nconst currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const noOfSubsections=courseSectionData[currentSectionIndx].subSection.length;const currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(data=>data._id===subSectionId);// console.log(\"no of subsections\", noOfSubsections)\nif(currentSubSectionIndx!==noOfSubsections-1){const nextSubSectionId=courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx+1]._id;navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(sectionId,\"/sub-section/\").concat(nextSubSectionId));}else{const nextSectionId=courseSectionData[currentSectionIndx+1]._id;const nextSubSectionId=courseSectionData[currentSectionIndx+1].subSection[0]._id;navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(nextSectionId,\"/sub-section/\").concat(nextSubSectionId));}};// check if the lecture is the last video of the course\nconst isLastVideo=()=>{const currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const noOfSubsections=courseSectionData[currentSectionIndx].subSection.length;const currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(data=>data._id===subSectionId);if(currentSectionIndx===courseSectionData.length-1&&currentSubSectionIndx===noOfSubsections-1){return true;}else{return false;}};// go to the previous video\nconst goToPrevVideo=()=>{// console.log(courseSectionData)\nconst currentSectionIndx=courseSectionData.findIndex(data=>data._id===sectionId);const currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(data=>data._id===subSectionId);if(currentSubSectionIndx!==0){const prevSubSectionId=courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx-1]._id;navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(sectionId,\"/sub-section/\").concat(prevSubSectionId));}else{const prevSectionId=courseSectionData[currentSectionIndx-1]._id;const prevSubSectionLength=courseSectionData[currentSectionIndx-1].subSection.length;const prevSubSectionId=courseSectionData[currentSectionIndx-1].subSection[prevSubSectionLength-1]._id;navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(prevSectionId,\"/sub-section/\").concat(prevSubSectionId));}};const handleLectureCompletion=async()=>{setLoading(true);const res=await markLectureAsComplete({courseId:courseId,subsectionId:subSectionId},token);if(res){dispatch(updateCompletedLectures(subSectionId));}setLoading(false);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-5 text-white\",children:[!videoData?/*#__PURE__*/_jsx(\"img\",{src:previewSource,alt:\"Preview\",className:\"h-full w-full rounded-md object-cover\"}):/*#__PURE__*/_jsxs(Player,{ref:playerRef,aspectRatio:\"16:9\",playsInline:true,onEnded:()=>setVideoEnded(true),src:videoData===null||videoData===void 0?void 0:videoData.videoUrl,children:[/*#__PURE__*/_jsx(BigPlayButton,{position:\"center\"}),videoEnded&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundImage:\"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\"},className:\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\",children:[!completedLectures.includes(subSectionId)&&/*#__PURE__*/_jsx(IconBtn,{disabled:loading,onclick:()=>handleLectureCompletion(),text:!loading?\"Mark As Completed\":\"Loading...\",customClasses:\"text-xl max-w-max px-4 mx-auto\"}),/*#__PURE__*/_jsx(IconBtn,{disabled:loading,onclick:()=>{if(playerRef!==null&&playerRef!==void 0&&playerRef.current){var _playerRef$current;// set the current time of the video to 0\nplayerRef===null||playerRef===void 0?void 0:(_playerRef$current=playerRef.current)===null||_playerRef$current===void 0?void 0:_playerRef$current.seek(0);setVideoEnded(false);}},text:\"Rewatch\",customClasses:\"text-xl max-w-max px-4 mx-auto mt-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\",children:[!isFirstVideo()&&/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:goToPrevVideo,className:\"blackButton\",children:\"Prev\"}),!isLastVideo()&&/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:goToNextVideo,className:\"blackButton\",children:\"Next\"})]})]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4 text-3xl font-semibold\",children:videoData===null||videoData===void 0?void 0:videoData.title}),/*#__PURE__*/_jsx(\"p\",{className:\"pt-2 pb-6\",children:videoData===null||videoData===void 0?void 0:videoData.description})]});};export default VideoDetails;// video","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","useNavigate","useParams","useLocation","BigPlayButton","Player","markLectureAsComplete","updateCompletedLectures","IconBtn","jsx","_jsx","jsxs","_jsxs","VideoDetails","courseId","sectionId","subSectionId","navigate","location","playerRef","dispatch","token","state","auth","courseSectionData","courseEntireData","completedLectures","viewCourse","videoData","setVideoData","previewSource","setPreviewSource","videoEnded","setVideoEnded","loading","setLoading","length","_filteredData$","filteredData","filter","course","_id","filteredVideoData","subSection","data","thumbnail","pathname","isFirstVideo","currentSectionIndx","findIndex","currentSubSectionIndx","goToNextVideo","noOfSubsections","nextSubSectionId","concat","nextSectionId","isLastVideo","goToPrevVideo","prevSubSectionId","prevSectionId","prevSubSectionLength","handleLectureCompletion","res","subsectionId","className","children","src","alt","ref","aspectRatio","playsInline","onEnded","videoUrl","position","style","backgroundImage","includes","disabled","onclick","text","customClasses","current","_playerRef$current","seek","onClick","title","description"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/ViewCourse/VideoDetails.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useNavigate, useParams } from \"react-router-dom\"\r\n\r\nimport \"video-react/dist/video-react.css\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport { BigPlayButton, Player } from \"video-react\"\r\n\r\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\"\r\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\"\r\nimport IconBtn from \"../../common/IconBtn\"\r\n\r\nconst VideoDetails = () => {\r\n  const { courseId, sectionId, subSectionId } = useParams()\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  const playerRef = useRef(null)\r\n  const dispatch = useDispatch()\r\n  const { token } = useSelector((state) => state.auth)\r\n  const { courseSectionData, courseEntireData, completedLectures } =\r\n    useSelector((state) => state.viewCourse)\r\n\r\n  const [videoData, setVideoData] = useState([])\r\n  const [previewSource, setPreviewSource] = useState(\"\")\r\n  const [videoEnded, setVideoEnded] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      if (!courseSectionData.length) return\r\n      if (!courseId && !sectionId && !subSectionId) {\r\n        navigate(`/dashboard/enrolled-courses`)\r\n      } else {\r\n        // console.log(\"courseSectionData\", courseSectionData)\r\n        const filteredData = courseSectionData.filter(\r\n          (course) => course._id === sectionId\r\n        )\r\n        // console.log(\"filteredData\", filteredData)\r\n        const filteredVideoData = filteredData?.[0]?.subSection.filter(\r\n          (data) => data._id === subSectionId\r\n        )\r\n        // console.log(\"filteredVideoData\", filteredVideoData)\r\n        setVideoData(filteredVideoData[0])\r\n        setPreviewSource(courseEntireData.thumbnail)\r\n        setVideoEnded(false)\r\n      }\r\n    })()\r\n  }, [courseSectionData, courseEntireData, location.pathname])\r\n\r\n  // check if the lecture is the first video of the course\r\n  const isFirstVideo = () => {\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    )\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId)\r\n\r\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  // go to the next video\r\n  const goToNextVideo = () => {\r\n    // console.log(courseSectionData)\r\n\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    )\r\n\r\n    const noOfSubsections =\r\n      courseSectionData[currentSectionIndx].subSection.length\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId)\r\n\r\n    // console.log(\"no of subsections\", noOfSubsections)\r\n\r\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\r\n      const nextSubSectionId =\r\n        courseSectionData[currentSectionIndx].subSection[\r\n          currentSubSectionIndx + 1\r\n        ]._id\r\n      navigate(\r\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`\r\n      )\r\n    } else {\r\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id\r\n      const nextSubSectionId =\r\n        courseSectionData[currentSectionIndx + 1].subSection[0]._id\r\n      navigate(\r\n        `/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`\r\n      )\r\n    }\r\n  }\r\n\r\n  // check if the lecture is the last video of the course\r\n  const isLastVideo = () => {\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    )\r\n\r\n    const noOfSubsections =\r\n      courseSectionData[currentSectionIndx].subSection.length\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId)\r\n\r\n    if (\r\n      currentSectionIndx === courseSectionData.length - 1 &&\r\n      currentSubSectionIndx === noOfSubsections - 1\r\n    ) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  // go to the previous video\r\n  const goToPrevVideo = () => {\r\n    // console.log(courseSectionData)\r\n\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    )\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId)\r\n\r\n    if (currentSubSectionIndx !== 0) {\r\n      const prevSubSectionId =\r\n        courseSectionData[currentSectionIndx].subSection[\r\n          currentSubSectionIndx - 1\r\n        ]._id\r\n      navigate(\r\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`\r\n      )\r\n    } else {\r\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id\r\n      const prevSubSectionLength =\r\n        courseSectionData[currentSectionIndx - 1].subSection.length\r\n      const prevSubSectionId =\r\n        courseSectionData[currentSectionIndx - 1].subSection[\r\n          prevSubSectionLength - 1\r\n        ]._id\r\n      navigate(\r\n        `/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`\r\n      )\r\n    }\r\n  }\r\n\r\n  const handleLectureCompletion = async () => {\r\n    setLoading(true)\r\n    const res = await markLectureAsComplete(\r\n      { courseId: courseId, subsectionId: subSectionId },\r\n      token\r\n    )\r\n    if (res) {\r\n      dispatch(updateCompletedLectures(subSectionId))\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-5 text-white\">\r\n      {!videoData ? (\r\n        <img\r\n          src={previewSource}\r\n          alt=\"Preview\"\r\n          className=\"h-full w-full rounded-md object-cover\"\r\n        />\r\n      ) : (\r\n        <Player\r\n          ref={playerRef}\r\n          aspectRatio=\"16:9\"\r\n          playsInline\r\n          onEnded={() => setVideoEnded(true)}\r\n          src={videoData?.videoUrl}\r\n        >\r\n          <BigPlayButton position=\"center\" />\r\n          {/* Render When Video Ends */}\r\n          {videoEnded && (\r\n            <div\r\n              style={{\r\n                backgroundImage:\r\n                  \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\",\r\n              }}\r\n              className=\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\"\r\n            >\r\n              {!completedLectures.includes(subSectionId) && (\r\n                <IconBtn\r\n                  disabled={loading}\r\n                  onclick={() => handleLectureCompletion()}\r\n                  text={!loading ? \"Mark As Completed\" : \"Loading...\"}\r\n                  customClasses=\"text-xl max-w-max px-4 mx-auto\"\r\n                />\r\n              )}\r\n              <IconBtn\r\n                disabled={loading}\r\n                onclick={() => {\r\n                  if (playerRef?.current) {\r\n                    // set the current time of the video to 0\r\n                    playerRef?.current?.seek(0)\r\n                    setVideoEnded(false)\r\n                  }\r\n                }}\r\n                text=\"Rewatch\"\r\n                customClasses=\"text-xl max-w-max px-4 mx-auto mt-2\"\r\n              />\r\n              <div className=\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\">\r\n                {!isFirstVideo() && (\r\n                  <button\r\n                    disabled={loading}\r\n                    onClick={goToPrevVideo}\r\n                    className=\"blackButton\"\r\n                  >\r\n                    Prev\r\n                  </button>\r\n                )}\r\n                {!isLastVideo() && (\r\n                  <button\r\n                    disabled={loading}\r\n                    onClick={goToNextVideo}\r\n                    className=\"blackButton\"\r\n                  >\r\n                    Next\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Player>\r\n      )}\r\n\r\n      <h1 className=\"mt-4 text-3xl font-semibold\">{videoData?.title}</h1>\r\n      <p className=\"pt-2 pb-6\">{videoData?.description}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VideoDetails\r\n// video"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}