{"ast":null,"code":"import _slicedToArray from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState}from\"react\";import{VscSignOut}from\"react-icons/vsc\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{sidebarLinks}from\"../../../data/dashboard-links\";import{logout}from\"../../../services/operations/authAPI\";import ConfirmationModal from\"../../common/ConfirmationModal\";import SidebarLink from\"./SidebarLink\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Sidebar(){var _useSelector=useSelector(function(state){return state.profile;}),user=_useSelector.user,profileLoading=_useSelector.loading;var _useSelector2=useSelector(function(state){return state.auth;}),authLoading=_useSelector2.loading;var dispatch=useDispatch();var navigate=useNavigate();// to keep track of confirmation modal\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),confirmationModal=_useState2[0],setConfirmationModal=_useState2[1];if(profileLoading||authLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"grid h-[calc(100vh-3.5rem)] min-w-[220px] items-center border-r-[1px] border-r-richblack-700 bg-richblack-800\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-[calc(100vh-3.5rem)] min-w-[220px] flex-col border-r-[1px] border-r-richblack-700 bg-richblack-800 py-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:sidebarLinks.map(function(link){if(link.type&&(user===null||user===void 0?void 0:user.accountType)!==link.type)return null;return/*#__PURE__*/_jsx(SidebarLink,{link:link,iconName:link.icon},link.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto mt-6 mb-6 h-[1px] w-10/12 bg-richblack-700\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(SidebarLink,{link:{name:\"Settings\",path:\"/dashboard/settings\"},iconName:\"VscSettingsGear\"}),/*#__PURE__*/_jsx(\"button\",{onClick:function onClick(){return setConfirmationModal({text1:\"Are you sure?\",text2:\"You will be logged out of your account.\",btn1Text:\"Logout\",btn2Text:\"Cancel\",btn1Handler:function btn1Handler(){return dispatch(logout(navigate));},btn2Handler:function btn2Handler(){return setConfirmationModal(null);}});},className:\"px-8 py-2 text-sm font-medium text-richblack-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-2\",children:[/*#__PURE__*/_jsx(VscSignOut,{className:\"text-lg\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})})]})]}),confirmationModal&&/*#__PURE__*/_jsx(ConfirmationModal,{modalData:confirmationModal})]});}","map":{"version":3,"names":["useState","VscSignOut","useDispatch","useSelector","useNavigate","sidebarLinks","logout","ConfirmationModal","SidebarLink","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Sidebar","_useSelector","state","profile","user","profileLoading","loading","_useSelector2","auth","authLoading","dispatch","navigate","_useState","_useState2","_slicedToArray","confirmationModal","setConfirmationModal","className","children","map","link","type","accountType","iconName","icon","id","name","path","onClick","text1","text2","btn1Text","btn2Text","btn1Handler","btn2Handler","modalData"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/Dashboard/Sidebar.jsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport { VscSignOut } from \"react-icons/vsc\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nimport { sidebarLinks } from \"../../../data/dashboard-links\"\r\nimport { logout } from \"../../../services/operations/authAPI\"\r\nimport ConfirmationModal from \"../../common/ConfirmationModal\"\r\nimport SidebarLink from \"./SidebarLink\"\r\n\r\nexport default function Sidebar() {\r\n  const { user, loading: profileLoading } = useSelector(\r\n    (state) => state.profile\r\n  )\r\n  const { loading: authLoading } = useSelector((state) => state.auth)\r\n  const dispatch = useDispatch()\r\n  const navigate = useNavigate()\r\n  // to keep track of confirmation modal\r\n  const [confirmationModal, setConfirmationModal] = useState(null)\r\n\r\n  if (profileLoading || authLoading) {\r\n    return (\r\n      <div className=\"grid h-[calc(100vh-3.5rem)] min-w-[220px] items-center border-r-[1px] border-r-richblack-700 bg-richblack-800\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex h-[calc(100vh-3.5rem)] min-w-[220px] flex-col border-r-[1px] border-r-richblack-700 bg-richblack-800 py-10\">\r\n        <div className=\"flex flex-col\">\r\n          {sidebarLinks.map((link) => {\r\n            if (link.type && user?.accountType !== link.type) return null\r\n            return (\r\n              <SidebarLink key={link.id} link={link} iconName={link.icon} />\r\n            )\r\n          })}\r\n        </div>\r\n        <div className=\"mx-auto mt-6 mb-6 h-[1px] w-10/12 bg-richblack-700\" />\r\n        <div className=\"flex flex-col\">\r\n          <SidebarLink\r\n            link={{ name: \"Settings\", path: \"/dashboard/settings\" }}\r\n            iconName=\"VscSettingsGear\"\r\n          />\r\n          <button\r\n            onClick={() =>\r\n              setConfirmationModal({\r\n                text1: \"Are you sure?\",\r\n                text2: \"You will be logged out of your account.\",\r\n                btn1Text: \"Logout\",\r\n                btn2Text: \"Cancel\",\r\n                btn1Handler: () => dispatch(logout(navigate)),\r\n                btn2Handler: () => setConfirmationModal(null),\r\n              })\r\n            }\r\n            className=\"px-8 py-2 text-sm font-medium text-richblack-300\"\r\n          >\r\n            <div className=\"flex items-center gap-x-2\">\r\n              <VscSignOut className=\"text-lg\" />\r\n              <span>Logout</span>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      {confirmationModal && <ConfirmationModal modalData={confirmationModal} />}\r\n    </>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}