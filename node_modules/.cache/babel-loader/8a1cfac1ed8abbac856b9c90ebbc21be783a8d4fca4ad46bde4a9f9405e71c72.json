{"ast":null,"code":"import _slicedToArray from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import{BsChevronDown}from\"react-icons/bs\";import{IoIosArrowBack}from\"react-icons/io\";import{useSelector}from\"react-redux\";import{useLocation,useNavigate,useParams}from\"react-router-dom\";import IconBtn from\"../../common/IconBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function VideoDetailsSidebar(_ref){var setReviewModal=_ref.setReviewModal;var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),activeStatus=_useState2[0],setActiveStatus=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),videoBarActive=_useState4[0],setVideoBarActive=_useState4[1];var navigate=useNavigate();var location=useLocation();var _useParams=useParams(),sectionId=_useParams.sectionId,subSectionId=_useParams.subSectionId;var _useSelector=useSelector(function(state){return state.viewCourse;}),courseSectionData=_useSelector.courseSectionData,courseEntireData=_useSelector.courseEntireData,totalNoOfLectures=_useSelector.totalNoOfLectures,completedLectures=_useSelector.completedLectures;useEffect(function(){;(function(){var _courseSectionData$cu,_courseSectionData$cu2,_courseSectionData$cu3,_courseSectionData$cu4,_courseSectionData$cu5;if(!courseSectionData.length)return;var currentSectionIndx=courseSectionData.findIndex(function(data){return data._id===sectionId;});var currentSubSectionIndx=courseSectionData===null||courseSectionData===void 0?void 0:(_courseSectionData$cu=courseSectionData[currentSectionIndx])===null||_courseSectionData$cu===void 0?void 0:_courseSectionData$cu.subSection.findIndex(function(data){return data._id===subSectionId;});var activeSubSectionId=(_courseSectionData$cu2=courseSectionData[currentSectionIndx])===null||_courseSectionData$cu2===void 0?void 0:(_courseSectionData$cu3=_courseSectionData$cu2.subSection)===null||_courseSectionData$cu3===void 0?void 0:(_courseSectionData$cu4=_courseSectionData$cu3[currentSubSectionIndx])===null||_courseSectionData$cu4===void 0?void 0:_courseSectionData$cu4._id;setActiveStatus(courseSectionData===null||courseSectionData===void 0?void 0:(_courseSectionData$cu5=courseSectionData[currentSectionIndx])===null||_courseSectionData$cu5===void 0?void 0:_courseSectionData$cu5._id);setVideoBarActive(activeSubSectionId);})();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[courseSectionData,courseEntireData,location.pathname]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-[calc(100vh-3.5rem)] w-[320px] max-w-[350px] flex-col border-r-[1px] border-r-richblack-700 bg-richblack-800\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"mx-5 flex flex-col items-start justify-between gap-2 gap-y-4 border-b border-richblack-600 py-5 text-lg font-bold text-richblack-25\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex w-full items-center justify-between \",children:[/*#__PURE__*/_jsx(\"div\",{onClick:function onClick(){navigate(\"/dashboard/enrolled-courses\");},className:\"flex h-[35px] w-[35px] items-center justify-center rounded-full bg-richblack-100 p-1 text-richblack-700 hover:scale-90\",title:\"back\",children:/*#__PURE__*/_jsx(IoIosArrowBack,{size:30})}),/*#__PURE__*/_jsx(IconBtn,{text:\"Add Review\",customClasses:\"ml-auto\",onclick:function onclick(){return setReviewModal(true);}})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(\"p\",{children:courseEntireData===null||courseEntireData===void 0?void 0:courseEntireData.courseName}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-sm font-semibold text-richblack-500\",children:[completedLectures===null||completedLectures===void 0?void 0:completedLectures.length,\" / \",totalNoOfLectures]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh - 5rem)] overflow-y-auto\",children:courseSectionData.map(function(course,index){return/*#__PURE__*/_jsxs(\"div\",{className:\"mt-2 cursor-pointer text-sm text-richblack-5\",onClick:function onClick(){return setActiveStatus(course===null||course===void 0?void 0:course._id);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-row justify-between bg-richblack-600 px-5 py-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"w-[70%] font-semibold\",children:course===null||course===void 0?void 0:course.sectionName}),/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center gap-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"\".concat(activeStatus===(course===null||course===void 0?void 0:course.sectionName)?\"rotate-0\":\"rotate-180\",\" transition-all duration-500\"),children:/*#__PURE__*/_jsx(BsChevronDown,{})})})]}),activeStatus===(course===null||course===void 0?void 0:course._id)&&/*#__PURE__*/_jsx(\"div\",{className:\"transition-[height] duration-500 ease-in-out\",children:course.subSection.map(function(topic,i){return/*#__PURE__*/_jsxs(\"div\",{className:\"flex gap-3  px-5 py-2 \".concat(videoBarActive===topic._id?\"bg-yellow-200 font-semibold text-richblack-800\":\"hover:bg-richblack-900\",\" \"),onClick:function onClick(){navigate(\"/view-course/\".concat(courseEntireData===null||courseEntireData===void 0?void 0:courseEntireData._id,\"/section/\").concat(course===null||course===void 0?void 0:course._id,\"/sub-section/\").concat(topic===null||topic===void 0?void 0:topic._id));setVideoBarActive(topic._id);},children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",checked:completedLectures.includes(topic===null||topic===void 0?void 0:topic._id),onChange:function onChange(){}}),topic.title]},i);})})]},index);})})]})});}","map":{"version":3,"names":["useEffect","useState","BsChevronDown","IoIosArrowBack","useSelector","useLocation","useNavigate","useParams","IconBtn","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","VideoDetailsSidebar","_ref","setReviewModal","_useState","_useState2","_slicedToArray","activeStatus","setActiveStatus","_useState3","_useState4","videoBarActive","setVideoBarActive","navigate","location","_useParams","sectionId","subSectionId","_useSelector","state","viewCourse","courseSectionData","courseEntireData","totalNoOfLectures","completedLectures","_courseSectionData$cu","_courseSectionData$cu2","_courseSectionData$cu3","_courseSectionData$cu4","_courseSectionData$cu5","length","currentSectionIndx","findIndex","data","_id","currentSubSectionIndx","subSection","activeSubSectionId","pathname","children","className","onClick","title","size","text","customClasses","onclick","courseName","map","course","index","sectionName","concat","topic","i","type","checked","includes","onChange"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/ViewCourse/VideoDetailsSidebar.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { BsChevronDown } from \"react-icons/bs\"\r\nimport { IoIosArrowBack } from \"react-icons/io\"\r\nimport { useSelector } from \"react-redux\"\r\nimport { useLocation, useNavigate, useParams } from \"react-router-dom\"\r\n\r\nimport IconBtn from \"../../common/IconBtn\"\r\n\r\nexport default function VideoDetailsSidebar({ setReviewModal }) {\r\n  const [activeStatus, setActiveStatus] = useState(\"\")\r\n  const [videoBarActive, setVideoBarActive] = useState(\"\")\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  const { sectionId, subSectionId } = useParams()\r\n  const {\r\n    courseSectionData,\r\n    courseEntireData,\r\n    totalNoOfLectures,\r\n    completedLectures,\r\n  } = useSelector((state) => state.viewCourse)\r\n\r\n  useEffect(() => {\r\n    ;(() => {\r\n      if (!courseSectionData.length) return\r\n      const currentSectionIndx = courseSectionData.findIndex(\r\n        (data) => data._id === sectionId\r\n      )\r\n      const currentSubSectionIndx = courseSectionData?.[\r\n        currentSectionIndx\r\n      ]?.subSection.findIndex((data) => data._id === subSectionId)\r\n      const activeSubSectionId =\r\n        courseSectionData[currentSectionIndx]?.subSection?.[\r\n          currentSubSectionIndx\r\n        ]?._id\r\n      setActiveStatus(courseSectionData?.[currentSectionIndx]?._id)\r\n      setVideoBarActive(activeSubSectionId)\r\n    })()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [courseSectionData, courseEntireData, location.pathname])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex h-[calc(100vh-3.5rem)] w-[320px] max-w-[350px] flex-col border-r-[1px] border-r-richblack-700 bg-richblack-800\">\r\n        <div className=\"mx-5 flex flex-col items-start justify-between gap-2 gap-y-4 border-b border-richblack-600 py-5 text-lg font-bold text-richblack-25\">\r\n          <div className=\"flex w-full items-center justify-between \">\r\n            <div\r\n              onClick={() => {\r\n                navigate(`/dashboard/enrolled-courses`)\r\n              }}\r\n              className=\"flex h-[35px] w-[35px] items-center justify-center rounded-full bg-richblack-100 p-1 text-richblack-700 hover:scale-90\"\r\n              title=\"back\"\r\n            >\r\n              <IoIosArrowBack size={30} />\r\n            </div>\r\n            <IconBtn\r\n              text=\"Add Review\"\r\n              customClasses=\"ml-auto\"\r\n              onclick={() => setReviewModal(true)}\r\n            />\r\n          </div>\r\n          <div className=\"flex flex-col\">\r\n            <p>{courseEntireData?.courseName}</p>\r\n            <p className=\"text-sm font-semibold text-richblack-500\">\r\n              {completedLectures?.length} / {totalNoOfLectures}\r\n            </p>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"h-[calc(100vh - 5rem)] overflow-y-auto\">\r\n          {courseSectionData.map((course, index) => (\r\n            <div\r\n              className=\"mt-2 cursor-pointer text-sm text-richblack-5\"\r\n              onClick={() => setActiveStatus(course?._id)}\r\n              key={index}\r\n            >\r\n              {/* Section */}\r\n              <div className=\"flex flex-row justify-between bg-richblack-600 px-5 py-4\">\r\n                <div className=\"w-[70%] font-semibold\">\r\n                  {course?.sectionName}\r\n                </div>\r\n                <div className=\"flex items-center gap-3\">\r\n                  {/* <span className=\"text-[12px] font-medium\">\r\n                    Lession {course?.subSection.length}\r\n                  </span> */}\r\n                  <span\r\n                    className={`${\r\n                      activeStatus === course?.sectionName\r\n                        ? \"rotate-0\"\r\n                        : \"rotate-180\"\r\n                    } transition-all duration-500`}\r\n                  >\r\n                    <BsChevronDown />\r\n                  </span>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Sub Sections */}\r\n              {activeStatus === course?._id && (\r\n                <div className=\"transition-[height] duration-500 ease-in-out\">\r\n                  {course.subSection.map((topic, i) => (\r\n                    <div\r\n                      className={`flex gap-3  px-5 py-2 ${\r\n                        videoBarActive === topic._id\r\n                          ? \"bg-yellow-200 font-semibold text-richblack-800\"\r\n                          : \"hover:bg-richblack-900\"\r\n                      } `}\r\n                      key={i}\r\n                      onClick={() => {\r\n                        navigate(\r\n                          `/view-course/${courseEntireData?._id}/section/${course?._id}/sub-section/${topic?._id}`\r\n                        )\r\n                        setVideoBarActive(topic._id)\r\n                      }}\r\n                    >\r\n                      <input\r\n                        type=\"checkbox\"\r\n                        checked={completedLectures.includes(topic?._id)}\r\n                        onChange={() => {}}\r\n                      />\r\n                      {topic.title}\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}