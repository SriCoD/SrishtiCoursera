{"ast":null,"code":"import{useState}from\"react\";import{VscSignOut}from\"react-icons/vsc\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate}from\"react-router-dom\";import{sidebarLinks}from\"../../../data/dashboard-links\";import{logout}from\"../../../services/operations/authAPI\";import ConfirmationModal from\"../../common/ConfirmationModal\";import SidebarLink from\"./SidebarLink\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Sidebar(){const{user,loading:profileLoading}=useSelector(state=>state.profile);const{loading:authLoading}=useSelector(state=>state.auth);const dispatch=useDispatch();const navigate=useNavigate();// to keep track of confirmation modal\nconst[confirmationModal,setConfirmationModal]=useState(null);if(profileLoading||authLoading){return/*#__PURE__*/_jsx(\"div\",{className:\"grid h-[calc(100vh-3.5rem)] min-w-[220px] items-center border-r-[1px] border-r-richblack-700 bg-richblack-800\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex h-[calc(100vh-3.5rem)] min-w-[220px] flex-col border-r-[1px] border-r-richblack-700 bg-richblack-800 py-10\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex flex-col\",children:sidebarLinks.map(link=>{if(link.type&&(user===null||user===void 0?void 0:user.accountType)!==link.type)return null;return/*#__PURE__*/_jsx(SidebarLink,{link:link,iconName:link.icon},link.id);})}),/*#__PURE__*/_jsx(\"div\",{className:\"mx-auto mt-6 mb-6 h-[1px] w-10/12 bg-richblack-700\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col\",children:[/*#__PURE__*/_jsx(SidebarLink,{link:{name:\"Settings\",path:\"/dashboard/settings\"},iconName:\"VscSettingsGear\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setConfirmationModal({text1:\"Are you sure?\",text2:\"You will be logged out of your account.\",btn1Text:\"Logout\",btn2Text:\"Cancel\",btn1Handler:()=>dispatch(logout(navigate)),btn2Handler:()=>setConfirmationModal(null)}),className:\"px-8 py-2 text-sm font-medium text-richblack-300\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-x-2\",children:[/*#__PURE__*/_jsx(VscSignOut,{className:\"text-lg\"}),/*#__PURE__*/_jsx(\"span\",{children:\"Logout\"})]})})]})]}),confirmationModal&&/*#__PURE__*/_jsx(ConfirmationModal,{modalData:confirmationModal})]});}","map":{"version":3,"names":["useState","VscSignOut","useDispatch","useSelector","useNavigate","sidebarLinks","logout","ConfirmationModal","SidebarLink","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Sidebar","user","loading","profileLoading","state","profile","authLoading","auth","dispatch","navigate","confirmationModal","setConfirmationModal","className","children","map","link","type","accountType","iconName","icon","id","name","path","onClick","text1","text2","btn1Text","btn2Text","btn1Handler","btn2Handler","modalData"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/Dashboard/Sidebar.jsx"],"sourcesContent":["import { useState } from \"react\"\r\nimport { VscSignOut } from \"react-icons/vsc\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useNavigate } from \"react-router-dom\"\r\n\r\nimport { sidebarLinks } from \"../../../data/dashboard-links\"\r\nimport { logout } from \"../../../services/operations/authAPI\"\r\nimport ConfirmationModal from \"../../common/ConfirmationModal\"\r\nimport SidebarLink from \"./SidebarLink\"\r\n\r\nexport default function Sidebar() {\r\n  const { user, loading: profileLoading } = useSelector(\r\n    (state) => state.profile\r\n  )\r\n  const { loading: authLoading } = useSelector((state) => state.auth)\r\n  const dispatch = useDispatch()\r\n  const navigate = useNavigate()\r\n  // to keep track of confirmation modal\r\n  const [confirmationModal, setConfirmationModal] = useState(null)\r\n\r\n  if (profileLoading || authLoading) {\r\n    return (\r\n      <div className=\"grid h-[calc(100vh-3.5rem)] min-w-[220px] items-center border-r-[1px] border-r-richblack-700 bg-richblack-800\">\r\n        <div className=\"spinner\"></div>\r\n      </div>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <>\r\n      <div className=\"flex h-[calc(100vh-3.5rem)] min-w-[220px] flex-col border-r-[1px] border-r-richblack-700 bg-richblack-800 py-10\">\r\n        <div className=\"flex flex-col\">\r\n          {sidebarLinks.map((link) => {\r\n            if (link.type && user?.accountType !== link.type) return null\r\n            return (\r\n              <SidebarLink key={link.id} link={link} iconName={link.icon} />\r\n            )\r\n          })}\r\n        </div>\r\n        <div className=\"mx-auto mt-6 mb-6 h-[1px] w-10/12 bg-richblack-700\" />\r\n        <div className=\"flex flex-col\">\r\n          <SidebarLink\r\n            link={{ name: \"Settings\", path: \"/dashboard/settings\" }}\r\n            iconName=\"VscSettingsGear\"\r\n          />\r\n          <button\r\n            onClick={() =>\r\n              setConfirmationModal({\r\n                text1: \"Are you sure?\",\r\n                text2: \"You will be logged out of your account.\",\r\n                btn1Text: \"Logout\",\r\n                btn2Text: \"Cancel\",\r\n                btn1Handler: () => dispatch(logout(navigate)),\r\n                btn2Handler: () => setConfirmationModal(null),\r\n              })\r\n            }\r\n            className=\"px-8 py-2 text-sm font-medium text-richblack-300\"\r\n          >\r\n            <div className=\"flex items-center gap-x-2\">\r\n              <VscSignOut className=\"text-lg\" />\r\n              <span>Logout</span>\r\n            </div>\r\n          </button>\r\n        </div>\r\n      </div>\r\n      {confirmationModal && <ConfirmationModal modalData={confirmationModal} />}\r\n    </>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}