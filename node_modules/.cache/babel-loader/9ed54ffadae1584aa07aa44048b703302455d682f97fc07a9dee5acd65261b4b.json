{"ast":null,"code":"import _objectSpread from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useState}from\"react\";import OtpInput from\"react-otp-input\";import{Link}from\"react-router-dom\";import{BiArrowBack}from\"react-icons/bi\";import{RxCountdownTimer}from\"react-icons/rx\";import{useDispatch,useSelector}from\"react-redux\";import{sendOtp,signUp}from\"../services/operations/authAPI\";import{useNavigate}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function VerifyEmail(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),otp=_useState2[0],setOtp=_useState2[1];var _useSelector=useSelector(function(state){return state.auth;}),signupData=_useSelector.signupData,loading=_useSelector.loading;var dispatch=useDispatch();var navigate=useNavigate();useEffect(function(){// Only allow access of this route when user has filled the signup form\nif(!signupData){navigate(\"/signup\");}// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);var handleVerifyAndSignup=function handleVerifyAndSignup(e){e.preventDefault();var accountType=signupData.accountType,firstName=signupData.firstName,lastName=signupData.lastName,email=signupData.email,password=signupData.password,confirmPassword=signupData.confirmPassword;dispatch(signUp(accountType,firstName,lastName,email,password,confirmPassword,otp,navigate));};return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-[calc(100vh-3.5rem)] grid place-items-center\",children:loading?/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})}):/*#__PURE__*/_jsxs(\"div\",{className:\"max-w-[500px] p-4 lg:p-8\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-richblack-5 font-semibold text-[1.875rem] leading-[2.375rem]\",children:\"Verify Email\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-[1.125rem] leading-[1.625rem] my-4 text-richblack-100\",children:\"A verification code has been sent to you. Enter the code below\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleVerifyAndSignup,children:[/*#__PURE__*/_jsx(OtpInput,{value:otp,onChange:setOtp,numInputs:6,renderInput:function renderInput(props){return/*#__PURE__*/_jsx(\"input\",_objectSpread(_objectSpread({},props),{},{placeholder:\"-\",style:{boxShadow:\"inset 0px -1px 0px rgba(255, 255, 255, 0.18)\"},className:\"w-[48px] lg:w-[60px] border-0 bg-richblack-800 rounded-[0.5rem] text-richblack-5 aspect-square text-center focus:border-0 focus:outline-2 focus:outline-yellow-50\"}));},containerStyle:{justifyContent:\"space-between\",gap:\"0 6px\"}}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"w-full bg-yellow-50 py-[12px] px-[12px] rounded-[8px] mt-6 font-medium text-richblack-900\",children:\"Verify Email\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-6 flex items-center justify-between\",children:[/*#__PURE__*/_jsx(Link,{to:\"/signup\",children:/*#__PURE__*/_jsxs(\"p\",{className:\"text-richblack-5 flex items-center gap-x-2\",children:[/*#__PURE__*/_jsx(BiArrowBack,{}),\" Back To Signup\"]})}),/*#__PURE__*/_jsxs(\"button\",{className:\"flex items-center text-blue-100 gap-x-2\",onClick:function onClick(){return dispatch(sendOtp(signupData.email));},children:[/*#__PURE__*/_jsx(RxCountdownTimer,{}),\"Resend it\"]})]})]})});}export default VerifyEmail;","map":{"version":3,"names":["useEffect","useState","OtpInput","Link","BiArrowBack","RxCountdownTimer","useDispatch","useSelector","sendOtp","signUp","useNavigate","jsx","_jsx","jsxs","_jsxs","VerifyEmail","_useState","_useState2","_slicedToArray","otp","setOtp","_useSelector","state","auth","signupData","loading","dispatch","navigate","handleVerifyAndSignup","e","preventDefault","accountType","firstName","lastName","email","password","confirmPassword","className","children","onSubmit","value","onChange","numInputs","renderInput","props","_objectSpread","placeholder","style","boxShadow","containerStyle","justifyContent","gap","type","to","onClick"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/pages/VerifyEmail.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\";\r\nimport OtpInput from \"react-otp-input\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { BiArrowBack } from \"react-icons/bi\";\r\nimport { RxCountdownTimer } from \"react-icons/rx\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { sendOtp, signUp } from \"../services/operations/authAPI\";\r\nimport { useNavigate } from \"react-router-dom\";\r\n\r\nfunction VerifyEmail() {\r\n  const [otp, setOtp] = useState(\"\");\r\n  const { signupData, loading } = useSelector((state) => state.auth);\r\n  const dispatch = useDispatch();\r\n  const navigate = useNavigate();\r\n\r\n  useEffect(() => {\r\n    // Only allow access of this route when user has filled the signup form\r\n    if (!signupData) {\r\n      navigate(\"/signup\");\r\n    }\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n\r\n  const handleVerifyAndSignup = (e) => {\r\n    e.preventDefault();\r\n    const {\r\n      accountType,\r\n      firstName,\r\n      lastName,\r\n      email,\r\n      password,\r\n      confirmPassword,\r\n    } = signupData;\r\n\r\n    dispatch(\r\n      signUp(\r\n        accountType,\r\n        firstName,\r\n        lastName,\r\n        email,\r\n        password,\r\n        confirmPassword,\r\n        otp,\r\n        navigate\r\n      )\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"min-h-[calc(100vh-3.5rem)] grid place-items-center\">\r\n      {loading ? (\r\n        <div>\r\n          <div className=\"spinner\"></div>\r\n        </div>\r\n      ) : (\r\n        <div className=\"max-w-[500px] p-4 lg:p-8\">\r\n          <h1 className=\"text-richblack-5 font-semibold text-[1.875rem] leading-[2.375rem]\">\r\n            Verify Email\r\n          </h1>\r\n          <p className=\"text-[1.125rem] leading-[1.625rem] my-4 text-richblack-100\">\r\n            A verification code has been sent to you. Enter the code below\r\n          </p>\r\n          <form onSubmit={handleVerifyAndSignup}>\r\n            <OtpInput\r\n              value={otp}\r\n              onChange={setOtp}\r\n              numInputs={6}\r\n              renderInput={(props) => (\r\n                <input\r\n                  {...props}\r\n                  placeholder=\"-\"\r\n                  style={{\r\n                    boxShadow: \"inset 0px -1px 0px rgba(255, 255, 255, 0.18)\",\r\n                  }}\r\n                  className=\"w-[48px] lg:w-[60px] border-0 bg-richblack-800 rounded-[0.5rem] text-richblack-5 aspect-square text-center focus:border-0 focus:outline-2 focus:outline-yellow-50\"\r\n                />\r\n              )}\r\n              containerStyle={{\r\n                justifyContent: \"space-between\",\r\n                gap: \"0 6px\",\r\n              }}\r\n            />\r\n            <button\r\n              type=\"submit\"\r\n              className=\"w-full bg-yellow-50 py-[12px] px-[12px] rounded-[8px] mt-6 font-medium text-richblack-900\"\r\n            >\r\n              Verify Email\r\n            </button>\r\n          </form>\r\n          <div className=\"mt-6 flex items-center justify-between\">\r\n            <Link to=\"/signup\">\r\n              <p className=\"text-richblack-5 flex items-center gap-x-2\">\r\n                <BiArrowBack /> Back To Signup\r\n              </p>\r\n            </Link>\r\n            <button\r\n              className=\"flex items-center text-blue-100 gap-x-2\"\r\n              onClick={() => dispatch(sendOtp(signupData.email))}\r\n            >\r\n              <RxCountdownTimer />\r\n              Resend it\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default VerifyEmail;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}