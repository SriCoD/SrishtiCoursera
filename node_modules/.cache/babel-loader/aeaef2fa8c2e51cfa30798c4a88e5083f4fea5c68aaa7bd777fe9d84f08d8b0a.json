{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{Outlet,useParams}from\"react-router-dom\";import CourseReviewModal from\"../components/core/ViewCourse/CourseReviewModal\";import VideoDetailsSidebar from\"../components/core/ViewCourse/VideoDetailsSidebar\";import{getFullDetailsOfCourse}from\"../services/operations/courseDetailsAPI\";import{setCompletedLectures,setCourseSectionData,setEntireCourseData,setTotalNoOfLectures}from\"../slices/viewCourseSlice\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function ViewCourse(){const{courseId}=useParams();const{token}=useSelector(state=>state.auth);const dispatch=useDispatch();const[reviewModal,setReviewModal]=useState(false);useEffect(()=>{;(async()=>{var _courseData$courseDet,_courseData$courseDet2;const courseData=await getFullDetailsOfCourse(courseId,token);// console.log(\"Course Data here... \", courseData.courseDetails)\ndispatch(setCourseSectionData(courseData.courseDetails.courseContent));dispatch(setEntireCourseData(courseData.courseDetails));dispatch(setCompletedLectures(courseData.completedVideos));let lectures=0;courseData===null||courseData===void 0?void 0:(_courseData$courseDet=courseData.courseDetails)===null||_courseData$courseDet===void 0?void 0:(_courseData$courseDet2=_courseData$courseDet.courseContent)===null||_courseData$courseDet2===void 0?void 0:_courseData$courseDet2.forEach(sec=>{lectures+=sec.subSection.length;});dispatch(setTotalNoOfLectures(lectures));})();// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"relative flex min-h-[calc(100vh-3.5rem)]\",children:[/*#__PURE__*/_jsx(VideoDetailsSidebar,{setReviewModal:setReviewModal}),/*#__PURE__*/_jsx(\"div\",{className:\"h-[calc(100vh-3.5rem)] flex-1 overflow-auto\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mx-6\",children:/*#__PURE__*/_jsx(Outlet,{})})})]}),reviewModal&&/*#__PURE__*/_jsx(CourseReviewModal,{setReviewModal:setReviewModal})]});}","map":{"version":3,"names":["useEffect","useState","useDispatch","useSelector","Outlet","useParams","CourseReviewModal","VideoDetailsSidebar","getFullDetailsOfCourse","setCompletedLectures","setCourseSectionData","setEntireCourseData","setTotalNoOfLectures","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","ViewCourse","courseId","token","state","auth","dispatch","reviewModal","setReviewModal","_courseData$courseDet","_courseData$courseDet2","courseData","courseDetails","courseContent","completedVideos","lectures","forEach","sec","subSection","length","children","className"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/pages/ViewCourse.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { Outlet, useParams } from \"react-router-dom\"\r\n\r\nimport CourseReviewModal from \"../components/core/ViewCourse/CourseReviewModal\"\r\nimport VideoDetailsSidebar from \"../components/core/ViewCourse/VideoDetailsSidebar\"\r\nimport { getFullDetailsOfCourse } from \"../services/operations/courseDetailsAPI\"\r\nimport {\r\n  setCompletedLectures,\r\n  setCourseSectionData,\r\n  setEntireCourseData,\r\n  setTotalNoOfLectures,\r\n} from \"../slices/viewCourseSlice\"\r\n\r\nexport default function ViewCourse() {\r\n  const { courseId } = useParams()\r\n  const { token } = useSelector((state) => state.auth)\r\n  const dispatch = useDispatch()\r\n  const [reviewModal, setReviewModal] = useState(false)\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      const courseData = await getFullDetailsOfCourse(courseId, token)\r\n      // console.log(\"Course Data here... \", courseData.courseDetails)\r\n      dispatch(setCourseSectionData(courseData.courseDetails.courseContent))\r\n      dispatch(setEntireCourseData(courseData.courseDetails))\r\n      dispatch(setCompletedLectures(courseData.completedVideos))\r\n      let lectures = 0\r\n      courseData?.courseDetails?.courseContent?.forEach((sec) => {\r\n        lectures += sec.subSection.length\r\n      })\r\n      dispatch(setTotalNoOfLectures(lectures))\r\n    })()\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  return (\r\n    <>\r\n      <div className=\"relative flex min-h-[calc(100vh-3.5rem)]\">\r\n        <VideoDetailsSidebar setReviewModal={setReviewModal} />\r\n        <div className=\"h-[calc(100vh-3.5rem)] flex-1 overflow-auto\">\r\n          <div className=\"mx-6\">\r\n            <Outlet />\r\n          </div>\r\n        </div>\r\n      </div>\r\n      {reviewModal && <CourseReviewModal setReviewModal={setReviewModal} />}\r\n    </>\r\n  )\r\n}"],"mappings":"AAAA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OAASC,MAAM,CAAEC,SAAS,KAAQ,kBAAkB,CAEpD,MAAO,CAAAC,iBAAiB,KAAM,iDAAiD,CAC/E,MAAO,CAAAC,mBAAmB,KAAM,mDAAmD,CACnF,OAASC,sBAAsB,KAAQ,yCAAyC,CAChF,OACEC,oBAAoB,CACpBC,oBAAoB,CACpBC,mBAAmB,CACnBC,oBAAoB,KACf,2BAA2B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAElC,cAAe,SAAS,CAAAC,UAAUA,CAAA,CAAG,CACnC,KAAM,CAAEC,QAAS,CAAC,CAAGf,SAAS,EAAE,CAChC,KAAM,CAAEgB,KAAM,CAAC,CAAGlB,WAAW,CAAEmB,KAAK,EAAKA,KAAK,CAACC,IAAI,CAAC,CACpD,KAAM,CAAAC,QAAQ,CAAGtB,WAAW,EAAE,CAC9B,KAAM,CAACuB,WAAW,CAAEC,cAAc,CAAC,CAAGzB,QAAQ,CAAC,KAAK,CAAC,CAErDD,SAAS,CAAC,IAAM,CACd,CAAC,CAAC,SAAY,KAAA2B,qBAAA,CAAAC,sBAAA,CACZ,KAAM,CAAAC,UAAU,CAAG,KAAM,CAAArB,sBAAsB,CAACY,QAAQ,CAAEC,KAAK,CAAC,CAChE;AACAG,QAAQ,CAACd,oBAAoB,CAACmB,UAAU,CAACC,aAAa,CAACC,aAAa,CAAC,CAAC,CACtEP,QAAQ,CAACb,mBAAmB,CAACkB,UAAU,CAACC,aAAa,CAAC,CAAC,CACvDN,QAAQ,CAACf,oBAAoB,CAACoB,UAAU,CAACG,eAAe,CAAC,CAAC,CAC1D,GAAI,CAAAC,QAAQ,CAAG,CAAC,CAChBJ,UAAU,SAAVA,UAAU,kBAAAF,qBAAA,CAAVE,UAAU,CAAEC,aAAa,UAAAH,qBAAA,kBAAAC,sBAAA,CAAzBD,qBAAA,CAA2BI,aAAa,UAAAH,sBAAA,iBAAxCA,sBAAA,CAA0CM,OAAO,CAAEC,GAAG,EAAK,CACzDF,QAAQ,EAAIE,GAAG,CAACC,UAAU,CAACC,MAAM,CACnC,CAAC,CAAC,CACFb,QAAQ,CAACZ,oBAAoB,CAACqB,QAAQ,CAAC,CAAC,CAC1C,CAAC,GAAG,CACJ;AACF,CAAC,CAAE,EAAE,CAAC,CAEN,mBACEjB,KAAA,CAAAE,SAAA,EAAAoB,QAAA,eACEtB,KAAA,QAAKuB,SAAS,CAAC,0CAA0C,CAAAD,QAAA,eACvDxB,IAAA,CAACP,mBAAmB,EAACmB,cAAc,CAAEA,cAAe,EAAG,cACvDZ,IAAA,QAAKyB,SAAS,CAAC,6CAA6C,CAAAD,QAAA,cAC1DxB,IAAA,QAAKyB,SAAS,CAAC,MAAM,CAAAD,QAAA,cACnBxB,IAAA,CAACV,MAAM,IAAG,EACN,EACF,GACF,CACLqB,WAAW,eAAIX,IAAA,CAACR,iBAAiB,EAACoB,cAAc,CAAEA,cAAe,EAAG,GACpE,CAEP"},"metadata":{},"sourceType":"module","externalDependencies":[]}