{"ast":null,"code":"import _slicedToArray from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useEffect,useRef,useState}from\"react\";import{AiOutlineDown}from\"react-icons/ai\";import CourseSubSectionAccordion from\"./CourseSubSectionAccordion\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function CourseAccordionBar(_ref){var _course$subSection;var course=_ref.course,isActive=_ref.isActive,handleActive=_ref.handleActive;var contentEl=useRef(null);// Accordian state\nvar _useState=useState(false),_useState2=_slicedToArray(_useState,2),active=_useState2[0],setActive=_useState2[1];useEffect(function(){setActive(isActive===null||isActive===void 0?void 0:isActive.includes(course._id));},[isActive]);var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),sectionHeight=_useState4[0],setSectionHeight=_useState4[1];useEffect(function(){setSectionHeight(active?contentEl.current.scrollHeight:0);},[active]);return/*#__PURE__*/_jsxs(\"div\",{className:\"overflow-hidden border border-solid border-richblack-600 bg-richblack-700 text-richblack-5 last:mb-0\",children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsxs(\"div\",{className:\"flex cursor-pointer items-start justify-between bg-opacity-20 px-7  py-6 transition-[0.3s]\",onClick:function onClick(){handleActive(course._id);},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center gap-2\",children:[/*#__PURE__*/_jsx(\"i\",{className:isActive.includes(course._id)?\"rotate-180\":\"rotate-0\",children:/*#__PURE__*/_jsx(AiOutlineDown,{})}),/*#__PURE__*/_jsx(\"p\",{children:course===null||course===void 0?void 0:course.sectionName})]}),/*#__PURE__*/_jsx(\"div\",{className:\"space-x-4\",children:/*#__PURE__*/_jsx(\"span\",{className:\"text-yellow-25\",children:\"\".concat(course.subSection.length||0,\" lecture(s)\")})})]})}),/*#__PURE__*/_jsx(\"div\",{ref:contentEl,className:\"relative h-0 overflow-hidden bg-richblack-900 transition-[height] duration-[0.35s] ease-[ease]\",style:{height:sectionHeight},children:/*#__PURE__*/_jsx(\"div\",{className:\"text-textHead flex flex-col gap-2 px-7 py-6 font-semibold\",children:course===null||course===void 0?void 0:(_course$subSection=course.subSection)===null||_course$subSection===void 0?void 0:_course$subSection.map(function(subSec,i){return/*#__PURE__*/_jsx(CourseSubSectionAccordion,{subSec:subSec},i);})})})]});}","map":{"version":3,"names":["useEffect","useRef","useState","AiOutlineDown","CourseSubSectionAccordion","jsx","_jsx","jsxs","_jsxs","CourseAccordionBar","_ref","_course$subSection","course","isActive","handleActive","contentEl","_useState","_useState2","_slicedToArray","active","setActive","includes","_id","_useState3","_useState4","sectionHeight","setSectionHeight","current","scrollHeight","className","children","onClick","sectionName","concat","subSection","length","ref","style","height","map","subSec","i"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/Course/CourseAccordionBar.jsx"],"sourcesContent":["import { useEffect, useRef, useState } from \"react\"\r\nimport { AiOutlineDown } from \"react-icons/ai\"\r\n\r\nimport CourseSubSectionAccordion from \"./CourseSubSectionAccordion\"\r\n\r\nexport default function CourseAccordionBar({ course, isActive, handleActive }) {\r\n  const contentEl = useRef(null)\r\n\r\n  // Accordian state\r\n  const [active, setActive] = useState(false)\r\n  useEffect(() => {\r\n    setActive(isActive?.includes(course._id))\r\n  }, [isActive])\r\n  const [sectionHeight, setSectionHeight] = useState(0)\r\n  useEffect(() => {\r\n    setSectionHeight(active ? contentEl.current.scrollHeight : 0)\r\n  }, [active])\r\n\r\n  return (\r\n    <div className=\"overflow-hidden border border-solid border-richblack-600 bg-richblack-700 text-richblack-5 last:mb-0\">\r\n      <div>\r\n        <div\r\n          className={`flex cursor-pointer items-start justify-between bg-opacity-20 px-7  py-6 transition-[0.3s]`}\r\n          onClick={() => {\r\n            handleActive(course._id)\r\n          }}\r\n        >\r\n          <div className=\"flex items-center gap-2\">\r\n            <i\r\n              className={\r\n                isActive.includes(course._id) ? \"rotate-180\" : \"rotate-0\"\r\n              }\r\n            >\r\n              <AiOutlineDown />\r\n            </i>\r\n            <p>{course?.sectionName}</p>\r\n          </div>\r\n          <div className=\"space-x-4\">\r\n            <span className=\"text-yellow-25\">\r\n              {`${course.subSection.length || 0} lecture(s)`}\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div\r\n        ref={contentEl}\r\n        className={`relative h-0 overflow-hidden bg-richblack-900 transition-[height] duration-[0.35s] ease-[ease]`}\r\n        style={{\r\n          height: sectionHeight,\r\n        }}\r\n      >\r\n        <div className=\"text-textHead flex flex-col gap-2 px-7 py-6 font-semibold\">\r\n          {course?.subSection?.map((subSec, i) => {\r\n            return <CourseSubSectionAccordion subSec={subSec} key={i} />\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  )\r\n}"],"mappings":"iJAAA,OAASA,SAAS,CAAEC,MAAM,CAAEC,QAAQ,KAAQ,OAAO,CACnD,OAASC,aAAa,KAAQ,gBAAgB,CAE9C,MAAO,CAAAC,yBAAyB,KAAM,6BAA6B,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEnE,cAAe,SAAS,CAAAC,kBAAkBA,CAAAC,IAAA,CAAqC,KAAAC,kBAAA,IAAlC,CAAAC,MAAM,CAAAF,IAAA,CAANE,MAAM,CAAEC,QAAQ,CAAAH,IAAA,CAARG,QAAQ,CAAEC,YAAY,CAAAJ,IAAA,CAAZI,YAAY,CACzE,GAAM,CAAAC,SAAS,CAAGd,MAAM,CAAC,IAAI,CAAC,CAE9B;AACA,IAAAe,SAAA,CAA4Bd,QAAQ,CAAC,KAAK,CAAC,CAAAe,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAApCG,MAAM,CAAAF,UAAA,IAAEG,SAAS,CAAAH,UAAA,IACxBjB,SAAS,CAAC,UAAM,CACdoB,SAAS,CAACP,QAAQ,SAARA,QAAQ,iBAARA,QAAQ,CAAEQ,QAAQ,CAACT,MAAM,CAACU,GAAG,CAAC,CAAC,CAC3C,CAAC,CAAE,CAACT,QAAQ,CAAC,CAAC,CACd,IAAAU,UAAA,CAA0CrB,QAAQ,CAAC,CAAC,CAAC,CAAAsB,UAAA,CAAAN,cAAA,CAAAK,UAAA,IAA9CE,aAAa,CAAAD,UAAA,IAAEE,gBAAgB,CAAAF,UAAA,IACtCxB,SAAS,CAAC,UAAM,CACd0B,gBAAgB,CAACP,MAAM,CAAGJ,SAAS,CAACY,OAAO,CAACC,YAAY,CAAG,CAAC,CAAC,CAC/D,CAAC,CAAE,CAACT,MAAM,CAAC,CAAC,CAEZ,mBACEX,KAAA,QAAKqB,SAAS,CAAC,sGAAsG,CAAAC,QAAA,eACnHxB,IAAA,QAAAwB,QAAA,cACEtB,KAAA,QACEqB,SAAS,6FAA+F,CACxGE,OAAO,CAAE,SAAAA,QAAA,CAAM,CACbjB,YAAY,CAACF,MAAM,CAACU,GAAG,CAAC,CAC1B,CAAE,CAAAQ,QAAA,eAEFtB,KAAA,QAAKqB,SAAS,CAAC,yBAAyB,CAAAC,QAAA,eACtCxB,IAAA,MACEuB,SAAS,CACPhB,QAAQ,CAACQ,QAAQ,CAACT,MAAM,CAACU,GAAG,CAAC,CAAG,YAAY,CAAG,UAChD,CAAAQ,QAAA,cAEDxB,IAAA,CAACH,aAAa,IAAG,EACf,cACJG,IAAA,MAAAwB,QAAA,CAAIlB,MAAM,SAANA,MAAM,iBAANA,MAAM,CAAEoB,WAAW,EAAK,GACxB,cACN1B,IAAA,QAAKuB,SAAS,CAAC,WAAW,CAAAC,QAAA,cACxBxB,IAAA,SAAMuB,SAAS,CAAC,gBAAgB,CAAAC,QAAA,IAAAG,MAAA,CAC1BrB,MAAM,CAACsB,UAAU,CAACC,MAAM,EAAI,CAAC,iBAC5B,EACH,GACF,EACF,cACN7B,IAAA,QACE8B,GAAG,CAAErB,SAAU,CACfc,SAAS,iGAAmG,CAC5GQ,KAAK,CAAE,CACLC,MAAM,CAAEb,aACV,CAAE,CAAAK,QAAA,cAEFxB,IAAA,QAAKuB,SAAS,CAAC,2DAA2D,CAAAC,QAAA,CACvElB,MAAM,SAANA,MAAM,kBAAAD,kBAAA,CAANC,MAAM,CAAEsB,UAAU,UAAAvB,kBAAA,iBAAlBA,kBAAA,CAAoB4B,GAAG,CAAC,SAACC,MAAM,CAAEC,CAAC,CAAK,CACtC,mBAAOnC,IAAA,CAACF,yBAAyB,EAACoC,MAAM,CAAEA,MAAO,EAAMC,CAAC,CAAI,CAC9D,CAAC,CAAC,EACE,EACF,GACF,CAEV"},"metadata":{},"sourceType":"module","externalDependencies":[]}