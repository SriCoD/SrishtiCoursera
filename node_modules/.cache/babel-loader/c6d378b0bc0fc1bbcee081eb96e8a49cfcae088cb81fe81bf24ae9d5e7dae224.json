{"ast":null,"code":"import{useEffect,useState}from\"react\";import{useSelector}from\"react-redux\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function RequirementsField(_ref){let{name,label,register,setValue,errors,getValues}=_ref;const{editCourse,course}=useSelector(state=>state.course);const[requirement,setRequirement]=useState(\"\");const[requirementsList,setRequirementsList]=useState([]);useEffect(()=>{if(editCourse){setRequirementsList(course===null||course===void 0?void 0:course.instructions);}register(name,{required:true,validate:value=>value.length>0});// eslint-disable-next-line react-hooks/exhaustive-deps\n},[]);useEffect(()=>{setValue(name,requirementsList);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[requirementsList]);const handleAddRequirement=()=>{if(requirement){setRequirementsList([...requirementsList,requirement]);setRequirement(\"\");}};const handleRemoveRequirement=index=>{const updatedRequirements=[...requirementsList];updatedRequirements.splice(index,1);setRequirementsList(updatedRequirements);};return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col space-y-2\",children:[/*#__PURE__*/_jsxs(\"label\",{className:\"text-sm text-richblack-5\",htmlFor:name,children:[label,\" \",/*#__PURE__*/_jsx(\"sup\",{className:\"text-pink-200\",children:\"*\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col items-start space-y-2\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"text\",id:name,value:requirement,onChange:e=>setRequirement(e.target.value),className:\"form-style w-full\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:handleAddRequirement,className:\"font-semibold text-yellow-50\",children:\"Add\"})]}),requirementsList.length>0&&/*#__PURE__*/_jsx(\"ul\",{className:\"mt-2 list-inside list-disc\",children:requirementsList.map((requirement,index)=>/*#__PURE__*/_jsxs(\"li\",{className:\"flex items-center text-richblack-5\",children:[/*#__PURE__*/_jsx(\"span\",{children:requirement}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"ml-2 text-xs text-pure-greys-300 \",onClick:()=>handleRemoveRequirement(index),children:\"clear\"})]},index))}),errors[name]&&/*#__PURE__*/_jsxs(\"span\",{className:\"ml-2 text-xs tracking-wide text-pink-200\",children:[label,\" is required\"]})]});}","map":{"version":3,"names":["useEffect","useState","useSelector","jsx","_jsx","jsxs","_jsxs","RequirementsField","_ref","name","label","register","setValue","errors","getValues","editCourse","course","state","requirement","setRequirement","requirementsList","setRequirementsList","instructions","required","validate","value","length","handleAddRequirement","handleRemoveRequirement","index","updatedRequirements","splice","className","children","htmlFor","type","id","onChange","e","target","onClick","map"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/Dashboard/AddCourse/CourseInformation/RequirementField.jsx"],"sourcesContent":["import { useEffect, useState } from \"react\"\r\nimport { useSelector } from \"react-redux\"\r\n\r\nexport default function RequirementsField({\r\n  name,\r\n  label,\r\n  register,\r\n  setValue,\r\n  errors,\r\n  getValues,\r\n}) {\r\n  const { editCourse, course } = useSelector((state) => state.course)\r\n  const [requirement, setRequirement] = useState(\"\")\r\n  const [requirementsList, setRequirementsList] = useState([])\r\n\r\n  useEffect(() => {\r\n    if (editCourse) {\r\n      setRequirementsList(course?.instructions)\r\n    }\r\n    register(name, { required: true, validate: (value) => value.length > 0 })\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [])\r\n\r\n  useEffect(() => {\r\n    setValue(name, requirementsList)\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [requirementsList])\r\n\r\n  const handleAddRequirement = () => {\r\n    if (requirement) {\r\n      setRequirementsList([...requirementsList, requirement])\r\n      setRequirement(\"\")\r\n    }\r\n  }\r\n\r\n  const handleRemoveRequirement = (index) => {\r\n    const updatedRequirements = [...requirementsList]\r\n    updatedRequirements.splice(index, 1)\r\n    setRequirementsList(updatedRequirements)\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col space-y-2\">\r\n      <label className=\"text-sm text-richblack-5\" htmlFor={name}>\r\n        {label} <sup className=\"text-pink-200\">*</sup>\r\n      </label>\r\n      <div className=\"flex flex-col items-start space-y-2\">\r\n        <input\r\n          type=\"text\"\r\n          id={name}\r\n          value={requirement}\r\n          onChange={(e) => setRequirement(e.target.value)}\r\n          className=\"form-style w-full\"\r\n        />\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleAddRequirement}\r\n          className=\"font-semibold text-yellow-50\"\r\n        >\r\n          Add\r\n        </button>\r\n      </div>\r\n      {requirementsList.length > 0 && (\r\n        <ul className=\"mt-2 list-inside list-disc\">\r\n          {requirementsList.map((requirement, index) => (\r\n            <li key={index} className=\"flex items-center text-richblack-5\">\r\n              <span>{requirement}</span>\r\n              <button\r\n                type=\"button\"\r\n                className=\"ml-2 text-xs text-pure-greys-300 \"\r\n                onClick={() => handleRemoveRequirement(index)}\r\n              >\r\n                clear\r\n              </button>\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      )}\r\n      {errors[name] && (\r\n        <span className=\"ml-2 text-xs tracking-wide text-pink-200\">\r\n          {label} is required\r\n        </span>\r\n      )}\r\n    </div>\r\n  )\r\n}"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}