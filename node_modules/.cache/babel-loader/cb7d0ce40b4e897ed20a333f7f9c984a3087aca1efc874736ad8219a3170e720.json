{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useRef,useState}from\"react\";import{useDispatch,useSelector}from\"react-redux\";import{useNavigate,useParams}from\"react-router-dom\";import\"video-react/dist/video-react.css\";import{useLocation}from\"react-router-dom\";import{BigPlayButton,Player}from\"video-react\";import{markLectureAsComplete}from\"../../../services/operations/courseDetailsAPI\";import{updateCompletedLectures}from\"../../../slices/viewCourseSlice\";import IconBtn from\"../../common/IconBtn\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var VideoDetails=function VideoDetails(){var _useParams=useParams(),courseId=_useParams.courseId,sectionId=_useParams.sectionId,subSectionId=_useParams.subSectionId;var navigate=useNavigate();var location=useLocation();var playerRef=useRef(null);var dispatch=useDispatch();var _useSelector=useSelector(function(state){return state.auth;}),token=_useSelector.token;var _useSelector2=useSelector(function(state){return state.viewCourse;}),courseSectionData=_useSelector2.courseSectionData,courseEntireData=_useSelector2.courseEntireData,completedLectures=_useSelector2.completedLectures;var _useState=useState([]),_useState2=_slicedToArray(_useState,2),videoData=_useState2[0],setVideoData=_useState2[1];var _useState3=useState(\"\"),_useState4=_slicedToArray(_useState3,2),previewSource=_useState4[0],setPreviewSource=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),videoEnded=_useState6[0],setVideoEnded=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),loading=_useState8[0],setLoading=_useState8[1];useEffect(function(){;_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var _filteredData$,filteredData,filteredVideoData;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:if(courseSectionData.length){_context.next=2;break;}return _context.abrupt(\"return\");case 2:if(!courseId&&!sectionId&&!subSectionId){navigate(\"/dashboard/enrolled-courses\");}else{// console.log(\"courseSectionData\", courseSectionData)\nfilteredData=courseSectionData.filter(function(course){return course._id===sectionId;});// console.log(\"filteredData\", filteredData)\nfilteredVideoData=filteredData===null||filteredData===void 0?void 0:(_filteredData$=filteredData[0])===null||_filteredData$===void 0?void 0:_filteredData$.subSection.filter(function(data){return data._id===subSectionId;});// console.log(\"filteredVideoData\", filteredVideoData)\nsetVideoData(filteredVideoData[0]);setPreviewSource(courseEntireData.thumbnail);setVideoEnded(false);}case 3:case\"end\":return _context.stop();}},_callee);}))();},[courseSectionData,courseEntireData,location.pathname]);// check if the lecture is the first video of the course\nvar isFirstVideo=function isFirstVideo(){var currentSectionIndx=courseSectionData.findIndex(function(data){return data._id===sectionId;});var currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(function(data){return data._id===subSectionId;});if(currentSectionIndx===0&&currentSubSectionIndx===0){return true;}else{return false;}};// go to the next video\nvar goToNextVideo=function goToNextVideo(){// console.log(courseSectionData)\nvar currentSectionIndx=courseSectionData.findIndex(function(data){return data._id===sectionId;});var noOfSubsections=courseSectionData[currentSectionIndx].subSection.length;var currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(function(data){return data._id===subSectionId;});// console.log(\"no of subsections\", noOfSubsections)\nif(currentSubSectionIndx!==noOfSubsections-1){var nextSubSectionId=courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx+1]._id;navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(sectionId,\"/sub-section/\").concat(nextSubSectionId));}else{var nextSectionId=courseSectionData[currentSectionIndx+1]._id;var _nextSubSectionId=courseSectionData[currentSectionIndx+1].subSection[0]._id;navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(nextSectionId,\"/sub-section/\").concat(_nextSubSectionId));}};// check if the lecture is the last video of the course\nvar isLastVideo=function isLastVideo(){var currentSectionIndx=courseSectionData.findIndex(function(data){return data._id===sectionId;});var noOfSubsections=courseSectionData[currentSectionIndx].subSection.length;var currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(function(data){return data._id===subSectionId;});if(currentSectionIndx===courseSectionData.length-1&&currentSubSectionIndx===noOfSubsections-1){return true;}else{return false;}};// go to the previous video\nvar goToPrevVideo=function goToPrevVideo(){// console.log(courseSectionData)\nvar currentSectionIndx=courseSectionData.findIndex(function(data){return data._id===sectionId;});var currentSubSectionIndx=courseSectionData[currentSectionIndx].subSection.findIndex(function(data){return data._id===subSectionId;});if(currentSubSectionIndx!==0){var prevSubSectionId=courseSectionData[currentSectionIndx].subSection[currentSubSectionIndx-1]._id;navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(sectionId,\"/sub-section/\").concat(prevSubSectionId));}else{var prevSectionId=courseSectionData[currentSectionIndx-1]._id;var prevSubSectionLength=courseSectionData[currentSectionIndx-1].subSection.length;var _prevSubSectionId=courseSectionData[currentSectionIndx-1].subSection[prevSubSectionLength-1]._id;navigate(\"/view-course/\".concat(courseId,\"/section/\").concat(prevSectionId,\"/sub-section/\").concat(_prevSubSectionId));}};var handleLectureCompletion=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var res;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:setLoading(true);_context2.next=3;return markLectureAsComplete({courseId:courseId,subsectionId:subSectionId},token);case 3:res=_context2.sent;if(res){dispatch(updateCompletedLectures(subSectionId));}setLoading(false);case 6:case\"end\":return _context2.stop();}},_callee2);}));return function handleLectureCompletion(){return _ref2.apply(this,arguments);};}();return/*#__PURE__*/_jsxs(\"div\",{className:\"flex flex-col gap-5 text-white\",children:[!videoData?/*#__PURE__*/_jsx(\"img\",{src:previewSource,alt:\"Preview\",className:\"h-full w-full rounded-md object-cover\"}):/*#__PURE__*/_jsxs(Player,{ref:playerRef,aspectRatio:\"16:9\",playsInline:true,onEnded:function onEnded(){return setVideoEnded(true);},src:videoData===null||videoData===void 0?void 0:videoData.videoUrl,children:[/*#__PURE__*/_jsx(BigPlayButton,{position:\"center\"}),videoEnded&&/*#__PURE__*/_jsxs(\"div\",{style:{backgroundImage:\"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\"},className:\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\",children:[!completedLectures.includes(subSectionId)&&/*#__PURE__*/_jsx(IconBtn,{disabled:loading,onclick:function onclick(){return handleLectureCompletion();},text:!loading?\"Mark As Completed\":\"Loading...\",customClasses:\"text-xl max-w-max px-4 mx-auto\"}),/*#__PURE__*/_jsx(IconBtn,{disabled:loading,onclick:function onclick(){if(playerRef!==null&&playerRef!==void 0&&playerRef.current){var _playerRef$current;// set the current time of the video to 0\nplayerRef===null||playerRef===void 0?void 0:(_playerRef$current=playerRef.current)===null||_playerRef$current===void 0?void 0:_playerRef$current.seek(0);setVideoEnded(false);}},text:\"Rewatch\",customClasses:\"text-xl max-w-max px-4 mx-auto mt-2\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\",children:[!isFirstVideo()&&/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:goToPrevVideo,className:\"blackButton\",children:\"Prev\"}),!isLastVideo()&&/*#__PURE__*/_jsx(\"button\",{disabled:loading,onClick:goToNextVideo,className:\"blackButton\",children:\"Next\"})]})]})]}),/*#__PURE__*/_jsx(\"h1\",{className:\"mt-4 text-3xl font-semibold\",children:videoData===null||videoData===void 0?void 0:videoData.title}),/*#__PURE__*/_jsx(\"p\",{className:\"pt-2 pb-6\",children:videoData===null||videoData===void 0?void 0:videoData.description})]});};export default VideoDetails;// video","map":{"version":3,"names":["React","useEffect","useRef","useState","useDispatch","useSelector","useNavigate","useParams","useLocation","BigPlayButton","Player","markLectureAsComplete","updateCompletedLectures","IconBtn","jsx","_jsx","jsxs","_jsxs","VideoDetails","_useParams","courseId","sectionId","subSectionId","navigate","location","playerRef","dispatch","_useSelector","state","auth","token","_useSelector2","viewCourse","courseSectionData","courseEntireData","completedLectures","_useState","_useState2","_slicedToArray","videoData","setVideoData","_useState3","_useState4","previewSource","setPreviewSource","_useState5","_useState6","videoEnded","setVideoEnded","_useState7","_useState8","loading","setLoading","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_filteredData$","filteredData","filteredVideoData","wrap","_callee$","_context","prev","next","length","abrupt","filter","course","_id","subSection","data","thumbnail","stop","pathname","isFirstVideo","currentSectionIndx","findIndex","currentSubSectionIndx","goToNextVideo","noOfSubsections","nextSubSectionId","concat","nextSectionId","isLastVideo","goToPrevVideo","prevSubSectionId","prevSectionId","prevSubSectionLength","handleLectureCompletion","_ref2","_callee2","res","_callee2$","_context2","subsectionId","sent","apply","arguments","className","children","src","alt","ref","aspectRatio","playsInline","onEnded","videoUrl","position","style","backgroundImage","includes","disabled","onclick","text","customClasses","current","_playerRef$current","seek","onClick","title","description"],"sources":["C:/Users/s/Desktop/StudyNotion-An-Online-Education-Platform/src/components/core/ViewCourse/VideoDetails.jsx"],"sourcesContent":["import React, { useEffect, useRef, useState } from \"react\"\r\nimport { useDispatch, useSelector } from \"react-redux\"\r\nimport { useNavigate, useParams } from \"react-router-dom\"\r\n\r\nimport \"video-react/dist/video-react.css\"\r\nimport { useLocation } from \"react-router-dom\"\r\nimport { BigPlayButton, Player } from \"video-react\"\r\n\r\nimport { markLectureAsComplete } from \"../../../services/operations/courseDetailsAPI\"\r\nimport { updateCompletedLectures } from \"../../../slices/viewCourseSlice\"\r\nimport IconBtn from \"../../common/IconBtn\"\r\n\r\nconst VideoDetails = () => {\r\n  const { courseId, sectionId, subSectionId } = useParams()\r\n  const navigate = useNavigate()\r\n  const location = useLocation()\r\n  const playerRef = useRef(null)\r\n  const dispatch = useDispatch()\r\n  const { token } = useSelector((state) => state.auth)\r\n  const { courseSectionData, courseEntireData, completedLectures } =\r\n    useSelector((state) => state.viewCourse)\r\n\r\n  const [videoData, setVideoData] = useState([])\r\n  const [previewSource, setPreviewSource] = useState(\"\")\r\n  const [videoEnded, setVideoEnded] = useState(false)\r\n  const [loading, setLoading] = useState(false)\r\n\r\n  useEffect(() => {\r\n    ;(async () => {\r\n      if (!courseSectionData.length) return\r\n      if (!courseId && !sectionId && !subSectionId) {\r\n        navigate(`/dashboard/enrolled-courses`)\r\n      } else {\r\n        // console.log(\"courseSectionData\", courseSectionData)\r\n        const filteredData = courseSectionData.filter(\r\n          (course) => course._id === sectionId\r\n        )\r\n        // console.log(\"filteredData\", filteredData)\r\n        const filteredVideoData = filteredData?.[0]?.subSection.filter(\r\n          (data) => data._id === subSectionId\r\n        )\r\n        // console.log(\"filteredVideoData\", filteredVideoData)\r\n        setVideoData(filteredVideoData[0])\r\n        setPreviewSource(courseEntireData.thumbnail)\r\n        setVideoEnded(false)\r\n      }\r\n    })()\r\n  }, [courseSectionData, courseEntireData, location.pathname])\r\n\r\n  // check if the lecture is the first video of the course\r\n  const isFirstVideo = () => {\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    )\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId)\r\n\r\n    if (currentSectionIndx === 0 && currentSubSectionIndx === 0) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  // go to the next video\r\n  const goToNextVideo = () => {\r\n    // console.log(courseSectionData)\r\n\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    )\r\n\r\n    const noOfSubsections =\r\n      courseSectionData[currentSectionIndx].subSection.length\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId)\r\n\r\n    // console.log(\"no of subsections\", noOfSubsections)\r\n\r\n    if (currentSubSectionIndx !== noOfSubsections - 1) {\r\n      const nextSubSectionId =\r\n        courseSectionData[currentSectionIndx].subSection[\r\n          currentSubSectionIndx + 1\r\n        ]._id\r\n      navigate(\r\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${nextSubSectionId}`\r\n      )\r\n    } else {\r\n      const nextSectionId = courseSectionData[currentSectionIndx + 1]._id\r\n      const nextSubSectionId =\r\n        courseSectionData[currentSectionIndx + 1].subSection[0]._id\r\n      navigate(\r\n        `/view-course/${courseId}/section/${nextSectionId}/sub-section/${nextSubSectionId}`\r\n      )\r\n    }\r\n  }\r\n\r\n  // check if the lecture is the last video of the course\r\n  const isLastVideo = () => {\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    )\r\n\r\n    const noOfSubsections =\r\n      courseSectionData[currentSectionIndx].subSection.length\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId)\r\n\r\n    if (\r\n      currentSectionIndx === courseSectionData.length - 1 &&\r\n      currentSubSectionIndx === noOfSubsections - 1\r\n    ) {\r\n      return true\r\n    } else {\r\n      return false\r\n    }\r\n  }\r\n\r\n  // go to the previous video\r\n  const goToPrevVideo = () => {\r\n    // console.log(courseSectionData)\r\n\r\n    const currentSectionIndx = courseSectionData.findIndex(\r\n      (data) => data._id === sectionId\r\n    )\r\n\r\n    const currentSubSectionIndx = courseSectionData[\r\n      currentSectionIndx\r\n    ].subSection.findIndex((data) => data._id === subSectionId)\r\n\r\n    if (currentSubSectionIndx !== 0) {\r\n      const prevSubSectionId =\r\n        courseSectionData[currentSectionIndx].subSection[\r\n          currentSubSectionIndx - 1\r\n        ]._id\r\n      navigate(\r\n        `/view-course/${courseId}/section/${sectionId}/sub-section/${prevSubSectionId}`\r\n      )\r\n    } else {\r\n      const prevSectionId = courseSectionData[currentSectionIndx - 1]._id\r\n      const prevSubSectionLength =\r\n        courseSectionData[currentSectionIndx - 1].subSection.length\r\n      const prevSubSectionId =\r\n        courseSectionData[currentSectionIndx - 1].subSection[\r\n          prevSubSectionLength - 1\r\n        ]._id\r\n      navigate(\r\n        `/view-course/${courseId}/section/${prevSectionId}/sub-section/${prevSubSectionId}`\r\n      )\r\n    }\r\n  }\r\n\r\n  const handleLectureCompletion = async () => {\r\n    setLoading(true)\r\n    const res = await markLectureAsComplete(\r\n      { courseId: courseId, subsectionId: subSectionId },\r\n      token\r\n    )\r\n    if (res) {\r\n      dispatch(updateCompletedLectures(subSectionId))\r\n    }\r\n    setLoading(false)\r\n  }\r\n\r\n  return (\r\n    <div className=\"flex flex-col gap-5 text-white\">\r\n      {!videoData ? (\r\n        <img\r\n          src={previewSource}\r\n          alt=\"Preview\"\r\n          className=\"h-full w-full rounded-md object-cover\"\r\n        />\r\n      ) : (\r\n        <Player\r\n          ref={playerRef}\r\n          aspectRatio=\"16:9\"\r\n          playsInline\r\n          onEnded={() => setVideoEnded(true)}\r\n          src={videoData?.videoUrl}\r\n        >\r\n          <BigPlayButton position=\"center\" />\r\n          {/* Render When Video Ends */}\r\n          {videoEnded && (\r\n            <div\r\n              style={{\r\n                backgroundImage:\r\n                  \"linear-gradient(to top, rgb(0, 0, 0), rgba(0,0,0,0.7), rgba(0,0,0,0.5), rgba(0,0,0,0.1)\",\r\n              }}\r\n              className=\"full absolute inset-0 z-[100] grid h-full place-content-center font-inter\"\r\n            >\r\n              {!completedLectures.includes(subSectionId) && (\r\n                <IconBtn\r\n                  disabled={loading}\r\n                  onclick={() => handleLectureCompletion()}\r\n                  text={!loading ? \"Mark As Completed\" : \"Loading...\"}\r\n                  customClasses=\"text-xl max-w-max px-4 mx-auto\"\r\n                />\r\n              )}\r\n              <IconBtn\r\n                disabled={loading}\r\n                onclick={() => {\r\n                  if (playerRef?.current) {\r\n                    // set the current time of the video to 0\r\n                    playerRef?.current?.seek(0)\r\n                    setVideoEnded(false)\r\n                  }\r\n                }}\r\n                text=\"Rewatch\"\r\n                customClasses=\"text-xl max-w-max px-4 mx-auto mt-2\"\r\n              />\r\n              <div className=\"mt-10 flex min-w-[250px] justify-center gap-x-4 text-xl\">\r\n                {!isFirstVideo() && (\r\n                  <button\r\n                    disabled={loading}\r\n                    onClick={goToPrevVideo}\r\n                    className=\"blackButton\"\r\n                  >\r\n                    Prev\r\n                  </button>\r\n                )}\r\n                {!isLastVideo() && (\r\n                  <button\r\n                    disabled={loading}\r\n                    onClick={goToNextVideo}\r\n                    className=\"blackButton\"\r\n                  >\r\n                    Next\r\n                  </button>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </Player>\r\n      )}\r\n\r\n      <h1 className=\"mt-4 text-3xl font-semibold\">{videoData?.title}</h1>\r\n      <p className=\"pt-2 pb-6\">{videoData?.description}</p>\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default VideoDetails\r\n// video"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}